%# $Id: model.mas,v 1.46 2007/10/30 18:14:23 hvv Exp $
#changed 
#new chnange
<%shared>;
 my $active_member;
 my $is_under_18 = 0;   
 my $reqd = "*";
 my $name_on_site_ref;
 my $listing_tag_ref;
 my @hintopts = (width => 400, height=> 300, name => 'hint');
</%shared>

<%args>
 $part
</%args>

<style>
 .hide_item {
        display: none;
 }
</style>

<script type="text/javascript">
    $(document).ready(function(){
        if($('select[name="is_under_18"]').val() == 1){
          $('#guardian_info').removeClass('hide_item');
          $('#guardian_infoad').removeClass('hide_item');
        }
        $('.clothing, .shoes').change(function(){
            var cl = '.'+$(this).attr('class').split(' ')[1];
            var choise = $(this).val();
            $(cl).prop('selectedIndex',0);
            $(this).val(choise);
        });
% if($m->request_args->{rst}){
        $('form').find("select").prop('selectedIndex',0);
        $('form').find("input, textarea").val("");
        $("input[name='part']").val("application");
% }
        $("#inches").hide();
        dob_calc(); // Updates real age and months onload
        var today = new Date();
        var dob_year= today.getFullYear();
        
        $('select[name="height"]').change(function(){
            var height = $('select[name="height"]').val();
            if(height == "Shorter than 3'"){
                $("#inches").show();
            }else{
                $('select[name="height_inches"]').prop('selectedIndex',0);
                $("#inches").hide();
            }
            $(form).submit(function() {
              alert("Please select inches for height!!");
            });
        });
        function dob_calc(){
            var m = $('input[name="birthdate_month"]').val();
            var d = $('input[name="birthdate_day"]').val();
            var y = $('input[name="birthdate_year"]').val();
            if(m != 'mm' && y != 'yyyy' && d != 'dd'){
                var from_d = m+"/"+d+"/"+y;
                var todate = new Date();
                fromdate = new Date(from_d);
                y= [todate.getFullYear(), fromdate.getFullYear()];
                ydiff= y[0]-y[1];
                m= [todate.getMonth(), fromdate.getMonth()],
                mdiff= m[0]-m[1],
                d= [todate.getDate(), fromdate.getDate()],
                ddiff= d[0]-d[1];
                ddiff = ddiff < 0 ? (0-ddiff) : ddiff;
                if(mdiff<0){
                    ydiff=ydiff-1;
                    mdiff=12+mdiff;
                }
                
                //difference = Math.round(difference);
                difference = ydiff;
                $('input[name="age_real"]').val(difference);
                // $('input[name="age_real_months"]').val(mdiff);
                $('input[name="age_real_months"]').attr('value', mdiff);
            }
        }
        // Updates real age and months on birthdate update
        $('input[name="birthdate_year"], input[name="birthdate_month"], input[name="birthdate_day"]').focusout(function(){
            var m = $('input[name="birthdate_month"]').val();
            var d = $('input[name="birthdate_day"]').val();
            var y = $('input[name="birthdate_year"]').val();
            if(m != 'mm' && y != 'yyyy' && d != 'dd'){
                var from_d = m+"/"+d+"/"+y;
                var todate = new Date();
                var age= [], fromdate = new Date(from_d),
                y= [todate.getFullYear(), fromdate.getFullYear()],
                ydiff= y[0]-y[1],
                m= [todate.getMonth(), fromdate.getMonth()],
                mdiff= m[0]-m[1],
                d= [todate.getDate(), fromdate.getDate()],
                ddiff= d[0]-d[1];
                ddiff = ddiff < 0 ? (0-ddiff) : ddiff;
                if(mdiff<0){
                    ydiff=ydiff-1;
                    mdiff=12+mdiff;
                }
            
                difference = ydiff;
                //var age_html = '<b>Real Age</b>: '++' <i>years,</i>&nbsp;'+mdiff+' <i>months</i></span>';
                $('input[name="age_real"]').val(difference);
                // $('input[name="age_real_months"]').val(mdiff);
                $('input[name="age_real_months"]').attr('value', mdiff);
            }
        });
        /*ar flag = 0;
        var initial_form = $(('form')[1]).serialize();
        $('input, select').change(function(){
            flag = 1;
        });*/
    
        $('select[name="is_under_18"]').change(function(){
          if($(this).val() == 1){
                $('.guardian_info').removeClass('hide_item');
                $('#guardian_infoad').removeClass('hide_item');
          }else{
                $('.guardian_info').addClass('hide_item');
                $('#guardian_infoad').addClass('hide_item');
          }
        });
    
    });
</script>
<script type="text/javascript">
        function FillNameFields(f){
                if(f.copy_info.checked == true) {
                 f.model_name_first.value = f.member_name_first.value;
                 f.model_name_last.value  = f.member_name_last.value;
                 f.model_name_middle.value  = f.member_name_middle.value;
                }
                else{
                 f.model_name_first.value = '';
                 f.model_name_last.value  = '';
                 f.model_name_middle.value    = '';
                }
        }
        function hide_n_show(x_val, field_name){
    alert("In hide_n_show!!");
  }

  function validate_num(evt) {
  var theEvent = evt || window.event;
  var key = theEvent.keyCode || theEvent.which;
  key = String.fromCharCode( key );
  var regex = /[0-9]|\./;
  if( !regex.test(key) ) {
    theEvent.returnValue = false;
    if(theEvent.preventDefault) theEvent.preventDefault();
  }
}
</script>
<style>
 li {
    margin-top:0;
}

 </style>
<script>
function validateNum(evt) {
  var theEvent = evt || window.event;
  var key = theEvent.keyCode || theEvent.which;
  key = String.fromCharCode( key );
  var regex = /[0-9]|\./;
  if (evt.keyCode === 9 ||evt.keyCode === 37 || evt.keyCode === 38||evt.keyCode === 39 || evt.keyCode === 40||evt.keyCode === 8 || evt.keyCode === 46) {
        return true;
    }
  if( !regex.test(key) ) {
    theEvent.returnValue = false;
    if(theEvent.preventDefault) theEvent.preventDefault();
  }
}

</script>
<script>
$(document).ready(function(){
//alert("sdsa");
var dirty = false;
$("form#activeForm :input").change(function() {
//   alert("form changed!")
    dirty = true;
});
$('.button_f').click(function(){
    dirty = false;
});
$('.bten-t').click(function(){
    dirty = false;
});


   $(window).on('beforeunload', function(){
        if(dirty){
  //  console.log("qwerty");
           return 'Leave this page? Changes will be lost unless saved.';
dirty = false;
       
 }

   });
});
</script>
<%init>;
 $active_member = $ARGS{active_member};
 open my $obj,'>/tmp/dddd';
 print $obj Dumper($active_member);
 close $obj;
 my @form_fill_sources = ({
  country => 'USA',
  part => $part,
  bound_job_id => $ARGS{job_id},
  nudity_level => 'None',
 });
 if (defined $active_member) {
  my $model = $active_member->model;

  $is_under_18 = $model->is_under_18;
  my %computed_fields = (member_id => $active_member->member_id);
  $computed_fields{adm_is_child_mode} = $model->is_child_mode ? 'child' : 'adult';

  @computed_fields{qw/birthdate_year birthdate_month birthdate_day/} =
   $model->birthdate =~ /(\d+)-(\d+)-(\d+)/;

  foreach (qw/waist_size shoe_size tshirt_size inseam_size/) {
   $computed_fields{$_ . '_' . $model->gender} = $model->$_;
  }

  foreach my $image ($model->images) {
   my ($year, $month) = $image->date =~ m!^(\d+)-0?(\d+)!;
   my $id = $image->image_id;
   $computed_fields{"image_$id\_year"} = $year;
   $computed_fields{"image_$id\_month"} = $month;
   $computed_fields{"image_$id\_credits"} = $image->credits;
  }
  
  foreach (qw/model_job_type model_specialty model_union/) {
   $computed_fields{$_} = [ D2::bitmasks_set($model->$_) ];
  }

  my $i = 1;
  foreach (sort $model->agencies) {
   $computed_fields{"agency_id_$i"} = $_->model_agency_id;
   $computed_fields{"agency_address_$i"} = $_->address;
   $computed_fields{"agency_type_$i"} = $_->model_agency_type,
   $computed_fields{"agency_is_contract_exclusive_$i"} = $_->is_contract_exclusive;
   $i++;
  }

  foreach my $decimal_field (qw/neck_size bust_size waist_size shoe_size/) {
   $computed_fields{$decimal_field} = $model->$decimal_field;
#   $computed_fields{$decimal_field} =~ s/\.?0+$//;
  }

  foreach my $image ($model->images) {
   $computed_fields{'image_' . $image->image_id . '_rank'} = $image->rank;
  }

#  $args{full_name} = ($Member->full_name);

#  $computed_fields{full_name} = $Member->full_name;
#  $computed_fields{full_user} = $Member->full_name;

  push @form_fill_sources, ( $model, $model->member, \%computed_fields );
 }
   our $DB_NAME =  'd2';
   our @DBI_CONNECT_PARAMS = ("dbi:mysql:database=$DB_NAME;host=localhost", 'd2','d2',{ AutoCommit => 1, RaiseError => 1 });
   our $dbh = DBI->connect(@DBI_CONNECT_PARAMS) or die "Unable to connect to database: $DBI::errstr\n";
   $name_on_site_ref = $dbh->selectrow_array("select name_on_site from listing where member_id=".$active_member->member_id);
   $listing_tag_ref =  $dbh->selectrow_array("select listing_tag from listing where member_id = ".$active_member->member_id);
   $dbh->disconnect;
</%init>

<&| '/lib/fill_in_form.mas', sources => \@form_fill_sources &>
 <form action="profile_model_submit.html" id="activeForm" method="post" enctype="multipart/form-data">
 
  <& ".part_$part" &>
%  unless ($part =~ /^(additional_2|images|application_finished|additional_1|characteristics|identity)$/) {
    <center>
%   if ($part ne 'application') {
    <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
%   }
%#     <button class="bten-b5 m_t_10 bten-t" name="action" type="submit" value="<%$part eq 'application' ? 'UPLOAD IMAGES' : 'Next' %>"><%$part eq 'application' ? 'UPLOAD IMAGESnnnnnn' : 'Next' %></button>
%   unless (($part =~ /^application/)) {
     <div class="clearfix"></div>
     <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Save">Save Changes</button>

% if($active_member->model->acceptance_status eq 'newmember'){
    <p><em>(if you would like to continue at a later time)</em>
% }
%   }
    </center>
%  }
  <input name="part" type="hidden" value=<% $part %>>
% if ($active_member || $m->request_args->{member_id}) {
   <input name="member_id" type="hidden" value=<% 
  ($m->request_args->{member_id} ? $m->request_args->{member_id} 
  : $active_member->member_id) %>>
% };
  <input name="bound_job_id" type="hidden">
 </form>
</&>

<script>
$(document).ready(function() {
$('.collapse').on('show.bs.collapse', function(e) {
    e.stopImmediatePropagation();
    var id = $(this).attr('id');
    $('a[href="#' + id + '"]').closest('.panel-heading').addClass('active-faq');
    $('a[href="#' + id + '"]').find('div.active-status').html("-");
    
    if($('a[href="#' + id + '"]').hasClass("sub-cordian")){
        $('a[href="#' + id + '"]').css("color","#673AB7");
    }
    $('a[href="#' + id + '"] .panel-title span').html('<i class="fa fa-angle-down"></i>');
});
    
$('.collapse').on('hide.bs.collapse', function(ev) {
    ev.stopImmediatePropagation();
    var id = $(this).attr('id');
    $('a[href="#' + id + '"]').closest('.panel-heading').removeClass('active-faq');
    $('a[href="#' + id + '"]').find('div.active-status').html("+");
    
    if($('a[href="#' + id + '"]').hasClass("sub-cordian")){
        $('a[href="#' + id + '"]').css("color","#000");
    }
    $('a[href="#' + id + '"] .panel-title span').html('<i class="fa fa-angle-right"></i>');
});
});     
</script>

<%def .age_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_age.html', width => 400, height=>400, name=>'hint') &>
</%def>

<%def .mobemail_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_mobemail.html', width => 600, height=>600, name=>'hint') &>
</%def>


<%def .nearest_city_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_nearestcity.html', @hintopts) &>
</%def>

<%def .birthdate_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_birthdate.html', @hintopts) &>
</%def>

<%def .hairlength_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_hairlength.html', @hintopts) &>
</%def>

<%def .height_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_height.html', @hintopts) &>
</%def>

<%def .weight_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_weight.html', @hintopts) &>
</%def>

<%def .femsizes_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_femsizes.html', @hintopts) &>
</%def>

<%def .qualities_hint>
<& '/hint_button.mas', handlercode => $m->scomp('/popup_link.mas:popuponly', 
  href => '/hint_qualities.html', @hintopts) &>
</%def>

<%def .admin_controls>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Model Level</p>
          <& '/lib/select.mas',
                   name => 'listing_level',
                   options => [ D2::field_options('listing_level') ],
                   no_labels => 1,
                 
                &>
            </div>
          </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Model Name On Site </p>
             <input name="name_on_site" type="text" size="20" class="form-control">
            </div>
          </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Listing Tag</p>
             <input name="listing_tag" type="text" size="20" class="form-control">
            </div>
          </div>
                            <div class="col-md-2">
                              <div class="form-group">
                                <p>Profile Mode</p>
                                <select name=adm_is_child_mode class="form-control">
                                 <option value=adult>Adult
                                 <option value=child>Child
                                </select>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Status</p>
               <select name="acceptance_status" class="form-control">
%        foreach(@D2::applicant_states_generic) {
                   <option value="<% $_ %>"><% $D2::applicant_state_titles_generic{$_} %>
%        } 
               </select>
            </div>
          </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Scope</p>
               <select name="scope" class="form-control">
%        foreach(@D2::applicant_scopes) {
                   <option value="<% $_ %>"><% $D2::applicant_scope_titles{$_} %>
%        } 
               </select>
            </div>
          </div>
                            <div class="col-md-2">
                              <div class="form-group">
                                <p>MIN Images</p>
               <select name="min_portfolio_images_cnt" class="form-control">
          <option value=0>Auto
          <option value=3>3
          <option value=6>6
               </select>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <p>Account User Name</p>
              <input type="text" size="20" class="form-control" value = "<% $active_member->name_nick %>"  disabled>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <p>Account ID</p>
              <input type="text" size="20" class="form-control" value = "<% $active_member->member_id %>">
            </div>
          </div>

%   open my $FH, '>/tmp/NEWoi';
%   print $FH Dumper("**here is the active_member printed**");
%   print $FH Dumper($active_member);
%   close $FH; 

</%def>


<%def .part_application>

% my $part = 'application';
<div class="container accordin-search">
      <div class="col-md-10 col-md-offset-1">
        <h1>Model Profile - Application</h1>
        <p class="m_t_10">1. This form is for direct submission by talent or their parent/guardian ONLY. Agents, managers, or other representatives are prohibited from applying on behalf of their talent. </p>
        <p class="m_t_10 m_b_20"><b>2. You must be over 18 to fill out this application. If you are under 18, you must have your parent / guardian fill out this application for you.</b></p>
        <div id="accordion1" class="panel-group">

% if(defined $Member && $Member->is_admin){
          <div class="panel panel-default">
            <div class="panel-heading">
              <a href="#application1" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 0 (Admin Only)<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application1">
              <div class="panel-body">
                <div class="row">
                    <div class="search-page">
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Model Name on Site</p>
                    <input type="text" class="form-control" name="name_on_site">
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Listing Tag </p>
                    <input type="text" class="form-control" name="listing_tag">
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Scope</p>
        <select name="scope" class="form-control">
%        foreach(@D2::applicant_scopes) {
           <option value="<% $_ %>"><% $D2::applicant_scope_titles{$_} %>
%        }
        </select>
                      </div>
                  </div>
                    <div class="col-sm-4">
                      <div class="form-group">
                    <p>Model Level</p>
      <& '/lib/select.mas',
                 name => 'listing_level',
                 options => [ D2::field_options('listing_level') ],
                 no_labels => 1,
           
            &>
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Profile Mode</p>
      <select name=adm_is_child_mode class="form-control">
              <option value=adult>Adult
              <option value=child>Child
      </select>
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>MIN Images</p>
      <select name="min_portfolio_images_cnt" class="form-control">
        <option value=0>Auto
        <option value=3>3
        <option value=6>6
            </select>
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Status</p>

      <select name="acceptance_status" class="form-control">
%        foreach(@D2::applicant_states_generic) {
               <option value="<% $_ %>"><% $D2::applicant_state_titles_generic{$_} %>
%        }
      </select>
                      </div>
                  </div>
                  <div class="col-md-4">
            <div class="form-group">
              <p>Account User Name</p>
              <input type="text" size="20" class="form-control" >
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <p>Account ID</p>
              <input type="text" size="20" class="form-control" >
            </div>
          </div>
                  <div class="clearfix"></div>

                  </div>
                </div>
              </div>
            </div>
          </div>
% }

          <div class="panel panel-default">
            <div class="panel-heading">
              <a href="#application11" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 1 - Account Details<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application11">
              <div class="panel-body">
                <div class="row">
                    <div class="search-page">
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p><% $reqd %>Your First Name </p>
                    <input type="text" class="form-control" name="member_name_first" value="<% defined $active_member && $active_member->name_first ? $active_member->name_first : '' %>" pattern="[a-zA-Z0-9 '_-]+" required>
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Your Middle Name </p>
                    <input type="text" class="form-control" name="member_name_middle" value="<% defined $active_member && $active_member->name_middle ? $active_member->name_middle : '' %>" pattern="[a-zA-Z0-9 '_-]*">
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p><% $reqd %>Your Last Name</p>
                    <input type="text" class="form-control" name="member_name_last" value="<% defined $active_member && $active_member->name_last ? $active_member->name_last : '' %>" pattern="[a-zA-Z0-9 '_-]+" required>
                      </div>
                  </div>
                  <div class="clearfix"></div>
      <div class="col-sm-4">
                      <div class="form-group">
                    <p><% $reqd %>Your Email Address</p>
                    <input type="email" class="form-control" name="email">
                      </div>
                  </div>
                  <div class="clearfix"></div>

                  <div class="col-xs-12">
                    <div class="checkbox">
                      <input type="checkbox" id="checkbox_1" onclick="FillNameFields(this.form)" name="copy_info">
                      <label for="checkbox_1">Use the same first, middle, and last name for this model profile? </label>
                    </div>
                  </div>
                    <div class="clearfix"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
                <a href="#application2" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 2 - General Model Details<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application2">
              <div class="panel-body">
                <div class="row">
                    <div class="search-page">
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Model First Name</p>
                    <input type="text" class="form-control" name="model_name_first" pattern="[a-zA-Z0-9 '_-]+" required>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p>Model Middle Name</p>
                    <input type="text" class="form-control" name="model_name_middle" pattern="[a-zA-Z0-9 '_-]*">
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Model Last Name</p>
                    <input type="text" class="form-control" name="model_name_last" pattern="[a-zA-Z0-9 '_-]+" required>
                      </div>
                  </div>

                 <div class="col-sm-6">
                      <div class="form-inline form-group">
                            <p><% $reqd %>Date of Birth <span data-original-title="Please include your actual date of birth. Submitting inaccurate information will not help you to find more work opportunities" data-toggle="tooltip" data-placement="top" title=""><a href="#"><i class="fa fa-question-circle"></i></a></span> <!--<a href="#" style="color:#212121" data-toggle="modal" data-target="#birth-day"><i class="fa fa-lightbulb-o"></i></a>--></p>
<script>
$(function () {
$('[data-toggle="tooltip"]').tooltip()
})
</script>

                            <input type="text" style="width:120px;"  placeholder="mm" max="12" min="1" step="1" size="2" class="form-control" name="birthdate_month" required>
                            <input type="text" style="width:120px;"  placeholder="dd" max="31" min="1" step="1" size="2" class="form-control" name="birthdate_day" required>
                            <input type="text" id="dob_year" style="width:120px;" placeholder="yyyy" max="" min="1900" step="1" size="4" class="form-control" name="birthdate_year" required>
<input type="hidden" name="age_real">
<input type="hidden" name="age_real_months">
                              <div class="checkbox chek-profile">
<!--
% if(defined $active_member && $active_member->model->{is_lock}){
                                <input id="checkbox1" type="checkbox" name="is_lockd" checked="checked">
                                <label for="checkbox1"></label>
% }else{
                                <input id="checkbox1" type="checkbox" name="is_lockd">
                                <label for="checkbox1"></label>
% }
-->
                              </div>
                      </div>
                      
                  </div>
    <div class="col-sm-6">
                  <div class="form-group">
                   <p><% $reqd %>Under 18?</p>
        <& '/lib/select.mas',
               name => 'is_under_18',
               options => [
                '' => '-',
                1  => 'Yes',
                0  => 'No',
               ],
         
        &>
                  </div>
                </div>


                <div class="col-sm-6">
                 <div class="form-group hide_item" id="guardian_info">
                    <p>Guardian's Full Name (required if model is under 18)</p>
                    <input type="text" class="form-control" name="guardian_info">
                 </div>
                </div>
                
                        <div class="clearfix"></div>
                    </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
             <a href="#application3" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 3 - Geographic Details<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application3">
              <div class="panel-body">
                <div class="row">
                    <div class="search-page">
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>City</p>
                    <input type="text" class="form-control" name="addr_city">
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Nearest Large City</p>
          <& '/lib/select.mas',
           name => 'nearest_city',
           options => [ '-', D2::field_options('nearest_city') ],
           no_labels => 1,
           
          &>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p>US State </p>
          <& '/lib/select.mas',
           name => 'us_state',
           options => [ D2::field_options('us_state') ],
           no_labels => 1,
          
          &>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p>International Province</p>
                    <input type="text" class="form-control" name="addr_province">
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
        <% $reqd %>Country</p>
          <& '/lib/select.mas',
           name => 'country',
           options => [ D2::field_options('country') ],
           no_labels => 1,
         
          &>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Citizenship/Visa Status </p>
          <& '/lib/select.mas',
           name => 'immigrant_status',
           options => [ "-", D2::field_options('immigrant_status') ],
           no_labels => 1,
        
          &>
                      </div>
                  </div>
                    <div class="clearfix"></div>
                 </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
                <a href="#application4" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title"> Section 4 - Appearance<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application4">
              <div class="panel-body">
                <div class="row">
                    <div class="search-page">
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Gender </p>
                    <select class="form-control" name="gender">
                      <option selected="selected" value="0" class="first"> - </option>
                      <option value="male" class="first"> Male </option>
                      <option value="female" class="first"> Female </option>
                    </select>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                        <br>
                        <input type="checkbox" name = "Transgender_nam" values="Transgender" class = "Transgender_box"> Transgender
                        <input type="checkbox" name = "Non_binary_nam" values="Non-binary" class = "Non_binary_box"> Non-binary
                        <& .check_box_val &>
                        <br>                        
                        <br>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Age Appearance</p>
      <& '/lib/select.mas',
               name => 'age_range',
               options => [ '-', D2::field_options('age_range'), ],
               no_labels => 1,
         
           &>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Ethnic Appearance </p>
      <& '/lib/select.mas',
               name => 'ethnic_descent',
               options => [ '-', D2::field_options('ethnic_descent'), ],
               no_labels => 1,
        
           &>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Hair Color </p>
      <& '/lib/select.mas',
               name => 'hair_color',
               options => [ '-', D2::field_options('hair_color'), ],
               no_labels => 1,
         
           &>

                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Eye Color </p>
      <& '/lib/select.mas',
         name => 'eye_color',
               options => [ '-', D2::field_options('eye_color'), ],
               no_labels => 1,
         
           &>
                      </div>
                  </div>
                  
                  <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Height </p>
      <& '/lib/select.mas',
               name => 'height',
               options => [ '-', D2::field_options('height'), ],
               no_labels => 1,
         
            &>
                      </div>
                  </div>
      <div class="col-sm-6">
                      <div class="form-group">
                    <p><% $reqd %>Weight (in pounds) </p>
                    <input type="number" name="weight" placeholder="###" max="999" min="1" step="1" title="Weight" value="000" size="4" maxlength="3" class="form-control">
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="form-group" id="inches">
                    <p><% $reqd %>Inches </p>
      <& '/lib/select_with_value.mas',
               name => 'height_inches',
               options => [ D2::field_options_with_value('height_inches'), ],
               no_labels => 1,
         attrs => { class => 'form-control' },
            &>
                      </div>
                  </div>

                    <div class="clearfix"></div>
                </div>
                    
              </div>
            </div>
          </div>
          
      </div>
            
        <div class="panel panel-default">
            <div class="panel-heading">
                <a href="#application5" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 5 - Apparel Sizes<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application5">
              <div class="panel-body">
                                      <p>Providing child sizes for talent under 18 is optional (but highly recommended)</p>
                  <div id="accordion3" class="panel-group accordin-sub">
                        <div class="panel panel-default">
                            <div style="border-top: none;" class="panel-heading active-faq">
                                <a class="sub-cordian" href="#model-char-1" data-parent="#accordion3" data-toggle="collapse" aria-expanded="true" style="color: rgb(103, 58, 183);"><h5 class="panel-title"><div class="active-status">-</div>Male Sizes (Adult U.S.)</h5></a>
                            </div>

                            <div class="panel-collapse collapse in" id="model-char-1" aria-expanded="true" style="">
                                <div class="panel-body">
                                     <div class="search-page">
                                      <div class="col-sm-6">
                                          <div class="form-group">
                                        <p>*Waist</p>
            <& '/size_select.mas',
                      name => 'waist_size_male',
                default => '-',
                      min => 19, max => 48, no_labels => 1,
                attrs => { class => 'form-control' },
                  &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                          <div class="form-group">
                                        <p>*Inseam </p>
            <& '/size_select.mas',
                      name => 'inseam_size_male',
                default => '-',
                      min => 13, max => 41, no_labels => 1,
                attrs => { class => 'form-control' },
                  &>
                                          </div>
                                      </div>
                                         <div class="col-sm-6">
                                          <div class="form-group">
                                        <p>*Neck</p>
            <& '/size_select.mas',
                      name => 'neck_size',
                default => '-',
                      min => 14, max => 21.5, step => 0.5, no_labels => 1,
                attrs => { class => 'form-control' },
                  &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                          <div class="form-group">
                                        <p>*Sleeve </p>
            <& '/size_select.mas',
                      name => 'sleeve_size',
                default => '-',
                      min => 32, max => 39, slashed => 1, no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                          </div>
                                      </div>
                                      
                                         <div class="col-sm-6">
                                            <div class="form-group">
                                        <p>*Jacket Size </p>
            <& '/size_select.mas',
                      name => 'jacket_size',
                default => '-',
                      min => 38, max => 53, step => 2, no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                            </div>
                                      </div>
                                      <div class="col-sm-6">
                                          <div class="form-group">
                                        <p>*Jacket Length </p>
            <& '/size_select.mas',
                      name => 'jacket_length',
                default => '-',
                      options => [ 'Short', 'Regular', 'Long' ], no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                          </div>
                                      </div>
                                         
                                      <div class="col-sm-6">
                                          <div class="form-group">
                                        <p>*Shoe </p>
            <& '/size_select.mas',
                      name => 'shoe_size_male',
                default => '-',
                      min => 9, max => 18, step => 0.5, no_less => 1, no_labels => 1,
                attrs => { class => 'form-control' },
                  &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
% if (defined $Member && $Member->is_admin){
                                          <div class="form-group">
                                        <p>*T-Shirt (Admin Only)</p>
            <& '/lib/select_with_value.mas',
                 name => 'tshirt_size_male',
                 options => [ D2::field_options_with_value('tshirt_size') ],
                 no_labels => 1,
                attrs => { class => 'form-control' },
              &>
                                          </div>
% }
                                      </div>
                                         <div class="clearfix"></div>
                                     </div>
                                </div>
                            </div>

                        </div>
                         
                         
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <a class="sub-cordian collapsed" href="#model-char-2" data-parent="#accordion3" data-toggle="collapse" aria-expanded="false" style="color: rgb(103, 58, 183);"><h5 class="panel-title"><div class="active-status">-</div>Female Sizes (Adult U.S.)</h5></a>
                            </div>

                            <div class="panel-collapse collapse in" id="model-char-2" aria-expanded="false">
                                <div class="panel-body">
                                     <div class="search-page">
                                         <div class="col-sm-6">
                                             <div class="form-group">
                                            <p>*Bust </p>
            <& '/size_select.mas',
                      name => 'bust_size',
                default => '-', 
                      min => 18, max => 52, step => 0.5, no_labels => 1,
                  &>
                                             </div>
                                          </div>
                                          <div class="col-sm-6">
                                              <div class="form-group">
                                            <p>*Cup </p>
              <& '/lib/select_with_value.mas',
                 name => 'cup_size',
                 options => [ D2::field_options_with_value('cup_size') ],
                 no_labels => 1,
                 attrs => { class => 'form-control' },
              &>
                                              </div>
                                          </div>
                                          <div class="col-sm-6">
                                              <div class="form-group">
                                            <p>*Waist </p>
            <& '/size_select.mas',
                      name => 'waist_size_female',
                default => '-', no_labels => 1,
                      min => 18, max => 52, step => 0.5,
                  &>
                                              </div>
                                          </div>
                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*Hip</p>
            <& '/size_select.mas',
                      name => 'hip_size',
                default => '-', no_labels => 1,
                      min => 18, max => 52,
            &>
                                              </div>
                                          </div>
                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*Dress Size (your standard size)</p>
            <& '/size_select.mas',
                      name => 'dress_size',
                      default => '-', no_labels => 1,
                      min => 0, max => 30, no_less => 1, no_larger => 1,
                      slash_stepped => 1,
                 &>
                                              </div>
                                          </div>
                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*Dress Size (your maximum size)</p>
            <& '/size_select.mas',
                      name => 'dress_size_optional',
                      default => '-', no_labels => 1,
                      min => 0, max => 30, no_less => 1, no_larger => 1,
                      slash_stepped => 1,
                 &>
                                              </div>
                                          </div>

                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*Shoe</p>
            <& '/size_select.mas',
                      name => 'shoe_size_female',
                default => '-', no_labels => 1,
                      min => 2, max => 14, step => 0.5, no_larger => 1,
                  &>
                                              </div>
                                          </div>
% if (defined $Member && $Member->is_admin){
                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*U.S. Jeans (Admin Only) </p>
            <& '/lib/select_with_value.mas',
                name => 'us_jeans_size',
                options => [ D2::field_options_with_value('us_jeans_size') ],
                no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                              </div>
                                          </div>
                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*Designer Jeans (Admin Only)</p>
            <& '/lib/select_with_value.mas',
                name => 'designer_jeans_size',
                options => [ D2::field_options_with_value('designer_jeans_size') ],
                no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                              </div>
                                          </div>
                                          
                                          <div class="col-sm-6">
                                               <div class="form-group">
                                            <p>*T-Shirt Size (Admin Only) </p>
            <& '/lib/select_with_value.mas',
                 name => 'tshirt_size_female',
                 options => [ D2::field_options_with_value('tshirt_size') ],
                 no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                              </div>
                                          </div>
% }
                                         <div class="clearfix"></div>
                                </div>
                            </div>

                        </div> 
                         
                     </div>
                      <div class="panel panel-default">
                            <div class="panel-heading">
                                <a class="sub-cordian collapsed" href="#model-char-3" data-parent="#accordion3" data-toggle="collapse" aria-expanded="false" style="color: rgb(103, 58, 183);"><h5 class="panel-title"><div class="active-status">-</div>Child Sizes (U.S.)</h5></a>
                            </div>

                            <div class="panel-collapse collapse in" id="model-char-3" aria-expanded="false">
                                <div class="panel-body">
                                     <div class="search-page">
                                        <div class="col-sm-6">
                                             <div class="form-group">
                                        <p>Baby Clothing (months)</p>
            <& '/lib/select_with_value.mas',
               name => 'newborn_size',
               options => [ '-',  D2::field_options_with_value('newborn_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
            &>

                                            </div>
                                      </div>
                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p>Infant Clothing</p>
            <& '/size_select.mas',
                      name => 'infant_size',
                      default => '-', no_labels => 1,
                min => 12, max => 24, step => 6, no_larger => 1, no_less => 1,
                    attrs => { class => 'form-control clothing' },
                  &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p>Toddler Clothing</p>
            <& '/lib/select_with_value.mas',
                name => 'toddler_size',
                options => [ '-',  D2::field_options_with_value('toddler_size') ],
                no_labels => 1,
                attrs => { class => 'form-control clothing' },
            &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p>Kids Clothing</p>
             <& '/lib/select_with_value.mas',
               name => 'kids_size',
               options => [ '-',  D2::field_options_with_value('kids_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p>Boys Clothing</p>
             <& '/lib/select_with_value.mas',
               name => 'boys_size',
               options => [ D2::field_options_with_value('boys_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p>Girls Clothing</p>
             <& '/lib/select_with_value.mas',
               name => 'girls_size',
               options => [ D2::field_options_with_value('girls_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p>Girls Plus</p>
             <& '/lib/select_with_value.mas',
               name => 'girlsplus_size',
               options => [ D2::field_options_with_value('girlsplus_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
<style>
   .blank_div_md_app{min-height: 92px;}    
    @media screen and (max-width:768px) {
     .blank_div_md_app{min-height: auto;}
   }
</style>
                                      <div class="col-sm-6 blank_div_md_app"></div>  
                                      <div class="col-sm-6">
                                         <div class="form-group">
                                        <p><b>SHOE</b> &ndash; Toddler</p>
            <& '/size_select.mas',
                    name => 'shoe_size_toddler',
                    default => '-', no_labels => 1,
                    min => 5, max => 9, step => 1, no_larger => 1, no_less => 1,
              attrs => { class => 'form-control shoes' },
            &>
                                        </div>
                                      </div>

                                      <div class="col-sm-6">
                                           <div class="form-group">
                                        <p><b>SHOE</b> &ndash; Kids</p>
             <& '/lib/select_with_value.mas',
               name => 'shoe_size_kids',
               options => [ D2::field_options_with_value('shoe_size_kids') ],
               no_labels => 1,
               attrs => { class => 'form-control shoes' },
             &>
                                          </div>
                                      </div>
                                    
                                        <div class="clearfix"></div>
                                      </div>
                                </div>
                            </div>

                        </div>  
              </div>
            </div>
          </div>
          
        
        </div>
 <!--            
            <div class="panel panel-default">
            <div class="panel-heading">
                <a href="#application6" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 6 &ndash; Upload Images<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application6">
              <div class="panel-body">
                    <div class="row">
                        <div class="search-page">
                            <div class="col-xs-12">
                      <p> Upload Images </p>
                      <div class="input-group"> <span class="input-group-btn"> <span style="text-transform: none;" class="clearbtn-b5  btn-file"> Browse
                        <input type="file" multiple="">
                        </span> </span>
                        <input type="text" style="margin-left:4px; height:40px;" readonly="" class="form-control">
                          <span class="input-group-btn"><a style="margin-left: 8px;" class="bten-b5" href="#"> Add Image
                        </a></span>
                      </div>
                        
                    </div>
                            <div class="clearfix"></div>
                        </div>
                  </div>
              </div>
            </div>
          </div>
  -->        
          <div class="clearfix"></div>
          <div class="ser-btn">
            <div class="col-sm-4 col-sm-offset-4 m_t_20">
              <button style="width:100%" class="bten-b5 bten-t" type="submit" value="UPLOAD IMAGES" name="action">Upload Images</button>
                <button style="width:100%" class="clear-brdr-btn-b5 m_t_20" type="submit" value="Reset Application" name="action">Reset Application</button>
            </div>
            
          </div>
    </div>
  </div>
</div>

</%def>

<%def .part_application_OLD>
 <p class="big warning">
1. This form is for direct submission by talent or their parent/guardian ONLY.  
Agents, managers, or other representatives are prohibited from applying on 
behalf of their talent.

 <p class="big warning">
2. *** YOU MUST BE OVER 18 TO FILL OUT THIS APPLICATION. IF YOU ARE UNDER 
18, YOU MUST HAVE YOUR PARENT / GUARDIAN FILL OUT THIS APPLICATION FOR 
YOU ***

 <& .admin_controls &>

 <h2>Section 1</h2>
 <& .subpart_names &>

 <h2>Section 2</h2>
 <table class="commonForm">
  <tr>
   <th><% $reqd %> City
   <th>Nearest Large City  <& .nearest_city_hint  &>
   <th>US State
  <tr>
   <td><input name="addr_city" type="text" size="30">
   <td>
    <& '/lib/select.mas',
     name => 'nearest_city',
     options => [ '-Nearest Large City-', D2::field_options('nearest_city'), ],
     no_labels => 1,
    &>
   <td>
    <& '/lib/select.mas',
     name => 'us_state',
     options => [ '-US State-', D2::field_options('us_state') ],
     no_labels => 1,
    &>
 </table>
 <table class="commonForm">
  <tr>
   <th>International Province
   <th>Country
   <th>Citizenship/Visa Status
  <tr>
   <td><input name="addr_province" type="text" size="30">
   <td>
    <& '/lib/select.mas',
     name => 'country',
     options => [ D2::field_options('country') ],
     no_labels => 1,
    &>
   <td>
    <& '/lib/select.mas',
     name => 'immigrant_status',
     options => [ D2::field_options('immigrant_status') ],
     no_labels => 1,
    &>
 </table>

 <h2>Section 3</h2>
 <table class="commonForm">
  <tr>
   <th><% $reqd %> Email Address 1
<!--   <th>Mobile Phone Email <& .mobemail_hint &> -->
  <tr>
   <td><input name="email" type="email" size="30">
<!--   <td><input name="mobile_email" type="text" size="30"> -->
 </table>

 <h2>Section 4</h2>
 <table class="commonForm">
  <tr>
   <th><% $reqd %> Gender
   <th><% $reqd %> Age Appearance<& .age_hint &>
   <th><% $reqd %> Ethnic Descent
  <tr>
   <td>
    <select name="gender">
     <option>-Gender-
     <option value="male">Male
     <option value="female">Female
    </select>
   <td><& '/lib/select.mas',
           name => 'age_range',
           options => [ '-Age Appearance-', D2::field_options('age_range'), ],
           no_labels => 1,
       &>
   <td><& '/lib/select.mas',
           name => 'ethnic_descent',
           options => [ '-Ethnic Descent-', D2::field_options('ethnic_descent'), ],
           no_labels => 1,
       &>
 </table>
 <table class="commonForm">
  <tr>
   <th><% $reqd %> Hair Color
   <th><% $reqd %> Eye Color
  <tr>
   <td><& '/lib/select.mas',
           name => 'hair_color',
           options => [ '-Hair Color-', D2::field_options('hair_color'), ],
           no_labels => 1,
       &>
   <td><& '/lib/select.mas',
           name => 'eye_color',
           options => [ '-Eye Color-', D2::field_options('eye_color'), ],
           no_labels => 1,
       &>
 </table>
 <table class="commonForm">
  <tr>
   <th><% $reqd %> Height <& .height_hint &>
   <th><% $reqd %> Weight (in pounds) <& .weight_hint &>
  <tr>
   <td><& '/lib/select.mas',
           name => 'height',
           options => [ '-Height-', D2::field_options('height'), ],
           no_labels => 1,
       &>
<span id="inches"> 
   &nbsp;Inches:  <& '/lib/select_with_value.mas',
           name => 'height_inches',
           options => [ D2::field_options_with_value('height_inches'), ],
           no_labels => 1,
       &></span>
   <td><input name="weight" type="text" value="000" size="3">
 </table>

 <h2>Section 6</h2>

 <& .subpart_sizes &>

%if (0) { #was used somehow, but Skeets asked to remove it
 <table class="commonForm">
  <tr>
   <th>Resubmission
  <tr>
   <td><input id="resubmission" name="is_resubmission" type="checkbox"><label
        for="resubmission">Check here if this is a follow-up to an earlier submission.</label>
 </table>
% }

All items marked by an asterisk (*) are required.
</%def>


<%def .part_application_finished>
% if (1) {
%   my $_active_member = $active_member; #= $Member if defined $Member && defined $Member->$type;
%   if ($m->request_args->{member_id}) {
%   $_active_member = D2::Member->retrieve_or_abort($m->request_args->{member_id});
%   }
%   D2::Email::email_listing_application($_active_member->model) if $_active_member;
% }
<div class="container-fluid">
<div class="row">
<div class="container accordin-search">
<div class="col-md-10 col-md-offset-1">
<h1>Thank You</h1>
<p class="m_t_10 m_b_20">
 <p>
   Thank you for your application to join the D2 Models roster.  We
   have  received  your  application  and will get back to you to let you
   know  our  decision.   We  contact  all  applicants within 4 weeks, so
   please do not follow up via email or phone sooner than this.
 </p>
<div class="row" style="padding-top:20px;"></div>
 <p><a href='http://devmodels.direct2pro.com'>RETURN TO HOME</a></p>

<div class="clearfix"></div>
<div class="ser-btn">
</div>
</div>
</div>
</div></div></div>
<script type="text/javascript">
        setTimeout(function(){window.location.href = '/'},20000);
</script>
</%def>

<%def .part_account_details>
 <%init>;
 </%init>
  <& '/profile/account_details_model.mas',
      active_member => $active_member,
  &>

</%def>

<%def .part_application_casting>
 <& .part_application &>
 <table class="commonForm">
  <tr>
   <th>Please Also Include Me Into Your Roster
  <tr>
   <td><input id="includeIntoRoster" name="include_into_roster" type="checkbox"><label
        for="includeIntoRoster">Check here if you'd also like to be included into our roster</label>
 </table>
</%def>


<%def .part_identity>
  <div class="container-fluid">
    <div class="row">
      <div class="container accordin-search">
          
        <div class="col-md-10 col-md-offset-1">

% if($active_member->model->acceptance_status eq 'pre_upgrade' && !$Member->is_admin){

<div class="row">
<div class="col-md-3">
<p><b>Migration Progress:</b><p>
</div>
<div class="col-md-8">
<div class="progress">
  <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar"
  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:15%">
    15%
  </div>
</div>
</div>
</div>
%}

          <h1>Model Profile - General Details</h1>
          <h2 style="color: #7f8c8d;font-size: 20px;font-weight: bold;margin-top: 30px;"><% $name_on_site_ref %></h2>
          <p style="margin-top: 10px;">All items marked by an asterisk (*) are required.</p>
        <div class="panel-group" id="accordion1">
% if (defined $Member && $Member->allowed_action('edit_model')) {
            <div class="panel panel-default">
              <div class="panel-heading">
                <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-1"><h5 class="panel-title" >Admin Only<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
                
                <div id="profile-admin-1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div class="search-page">
                             <& .admin_controls &>
                            <div class="clearfix"></div>
                          </div>
                    </div>
                </div>
            </div>
% }

          <div class="panel panel-default">
            <div class="panel-heading">
              <a href="#application1" data-parent="#accordion1" data-toggle="collapse"><h5 class="panel-title">Section 0 - Account Details<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
            </div>
            <div class="panel-collapse collapse in" id="application1">
              <div class="panel-body">
                <div class="row">
                    <div class="search-page">
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p><% $reqd %>Your First Name </p>
                    <input type="text" class="form-control" name="member_name_first" value="<% defined $active_member && $active_member->name_first ? $active_member->name_first : '' %>"  pattern="[a-zA-Z0-9 '_-]+" required>
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p>Your Middle Name </p>
                    <input type="text" class="form-control" name="member_name_middle" value="<% $active_member->name_middle ? $active_member->name_middle : '' %>" pattern="[a-zA-Z0-9 '_-]+">
                      </div>
                  </div>
                  <div class="col-sm-4">
                      <div class="form-group">
                    <p><% $reqd %>Your Last Name</p>
                    <input type="text" class="form-control" name="member_name_last" value="<% $active_member->name_last ? $active_member->name_last : '' %>" pattern="[a-zA-Z0-9 '_-]+" required>
                      </div>
                  </div>
                  <div class="clearfix"></div>
      <div class="col-sm-4">
                      <div class="form-group">
                    <p><% $reqd %>Your Email Address</p>
                    <input type="email" class="form-control" name="email">
                      </div>
                  </div>
      <div class="col-sm-4">
                      <div class="form-group">
                    <p>Email Address 2 (alternate)</p>
                    <input type="email" class="form-control" name="email_optional">
                      </div>
                  </div>
                  <div class="clearfix"></div>


                  </div>
                </div>
              </div>
            </div>
          </div>
% if($active_member->model->acceptance_status eq 'archived'){
      <div class="panel panel-default red_warnings m_b_20 text-center">
    <center>There are currently no profiles associated with this account. <a href='#' onclick="<& /modal_popup_link.mas, href => '/delete_account_modal.html?retr=1&m_id='.$active_member->member_id , elementId => 'userid_sent' &>; return false;">Click here</a> to delete the account entirely from the system.</center>
      </div>
% }else{
            <div class="panel panel-default">
              <div class="panel-heading">
                   <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-2"><h5 class="panel-title" >Section 1<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-2" class="panel-collapse collapse in">
                <div class="panel-body">
                      <div class="search-page">
      <& .subpart_names &>
%#            <& .subpart_age_only&>
                            <div class="clearfix"></div>
                      </div>
                </div>
              </div>
            </div>
            
            
            <div class="panel panel-default">
              <div class="panel-heading">
                   <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-3"><h5 class="panel-title" >Section 2<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-3" class="panel-collapse collapse in">
                <div class="panel-body">
                      <div class="search-page">
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Street Address Line 1</p>
                            <input name="addr_street_1" type="text" class="form-control">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Street Address Line 2</p>
                            <input name="addr_street_2" type="text" class="form-control">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>* City</p>
                            <input value="San Dimas" name="addr_city" type="text" class="form-control">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Nearest Large City</p>
    <& '/lib/select.mas',
     name => 'nearest_city',
     options => [ D2::field_options('nearest_city') ],
     no_labels => 1,
     
    &>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>U.S. State</p>
    <& '/lib/select.mas',
     name => 'us_state',
     options => [ '-US State-', D2::field_options('us_state') ],
     no_labels => 1,
     
    &>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>International Province</p>
                            <input name="addr_province" type="text" class="form-control">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Postal / Zip Code</p>
                            <input name="addr_zip" type="text" class="form-control">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Country</p>
    <& '/lib/select.mas',
     name => 'country',
     options => [ D2::field_options('country') ],
     no_labels => 1,
     
    &>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Citizenship/Visa Status</p>
    <& '/lib/select.mas',
     name => 'immigrant_status',
     options => [ D2::field_options('immigrant_status') ],
     no_labels => 1,
     
    &>
                          </div>
                        </div>
                        <div class="clearfix"></div>
                      </div>
                </div>
              </div>
            </div>
            
            
            <div class="panel panel-default">
              <div class="panel-heading">
                   <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-4"><h5 class="panel-title" >Section 3 (If United States or Canada)<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-4" class="panel-collapse collapse in">
                <div class="panel-body">
                          <div class="search-page">
                            <div class="col-md-6">
                              <div class="form-group">
                                <p>Home Phone</p>
        <input class="form-control" name="phone_home" type='tel' value="" placeholder="###-###-####" >
                               
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <p>Home Fax </p>
        <input class="form-control" name="phone_fax" type='tel'  value=""  placeholder="###-###-####">
                            
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="row">
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <p>Work Phone</p>
            <input class="form-control" name="phone_work" type='tel'    placeholder="###-###-####" title="Please use this format: 123-456-7890">
                                    
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <p>extension</p>
                                    <input  name="phone_work_ext" type="text" class="form-control">
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="row">
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <p>Mobile Number (U.S.)</p>
             <input class="form-control" name="phone_mobile" type='tel'  placeholder="### - ### - ####" title="Please use this format: 123 - 456 - 7890" >
                                  
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group">
                                    <p>Mobile Carrier <span data-original-title="Providing the name of your mobile carrier will allow us to quickly send you a text message alert if necessary." data-toggle="tooltip" data-placement="top" title=""><a href="#"><i class="fa fa-question-circle"></i></a></span> <!--<a href="#" style="color:#212121" data-toggle="modal" data-target="#birth-day"><i class="fa fa-lightbulb-o"></i></a>--></p>
<script>
$(function () {
$('[data-toggle="tooltip"]').tooltip()
})


</script>
</p>
   <& '/lib/select_with_value.mas',
     name => 'phone_carrier',
     options => [ '-US Mobile Carrier-',  D2::field_options_with_value('phone_carrier') ],
     no_labels => 1,
     attrs => { class => 'form-control' },
    &>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <p>Emergency Contact Full Name</p>
                                <input name="contact_emerg" type="text" class="form-control" placeholder="(full name)">
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <p>Emergency Contact Phone Number</p>
        <input class="form-control" name="phone_emerg" type='tel'   placeholder="###-###-####">
                               
                              </div>
                            </div>
<div class="clearfix"></div>

                            <p class="text-center">You must provide either a home phone or a mobile phone in order to be considered for any assignments.</p>
                            <div class="clearfix"></div>
                          </div>
                </div>
              </div>
            </div>
            
            <div class="panel panel-default">
              <div class="panel-heading">
              <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-5"><h5 class="panel-title" >Section 3 (if International)<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-5" class="panel-collapse collapse in">
                <div class="panel-body">
                  <div class="search-page">
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Home Phone (optional)</p>
                        <input value="" name="intern_phone_home" type="text" class="form-control" placeholder="(country code-number)">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Home Fax (optional)</p>
                        <input value="" name="intern_phone_fax" type="text" class="form-control" placeholder="(country code-number)">
                      </div>
                    </div>
                    <div class="col-md-5">
                      <div class="form-group">
                        <p>International Work Phone (optional)</p>
                        <input name="intern_phone_work" type="text" class="form-control" placeholder="(country code-number)">
                      </div>
                    </div>
                    <div class="col-md-3">
                      <div class="form-group">
                        <p>Extension</p>
                        <input name="intern_phone_work_ext" type="text" class="form-control">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group">
                        <p>Mobile Number (optional)</p>
                        <input value="" name="intern_phone_mobile" type="text" class="form-control" placeholder="(country code-number)">
                      </div>
                    </div>
        <div class="clearfix"></div>
            <div class="col-md-6">
                      <div class="form-group">
                        <p>International Emergency Contact Full Name (optional)</p>
                        <input  name="intern_contact_emerg" type="text" class="form-control" placeholder="(Full Name)">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>International Emergency Contact Phone Number</p>
                        <input  name="intern_phone_emerg" type="tel" class="form-control" placeholder="(country code-number)">
                      </div>
                    </div>
<div class="clearfix"></div>

                    <p class="text-center">You must provide either a home phone or a mobile phone in order to be considered for any assignments.</p>
                    <div class="clearfix"></div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="panel panel-default">
              <div class="panel-heading">
              <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-6"><h5 class="panel-title" >Section 4<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-6" class="panel-collapse collapse in">
                <div class="panel-body">
                  <div class="search-page">
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Website address 1</p>
        <div class="input-group">
              <span class="input-group-addon" id="basic-addon3">http://</span>
              <input type="text" name="website" placeholder="www.website.com" class="form-control" id="basic-url" aria-describedby="basic-addon3" pattern="^(?!(:|http|/)).+">
        </div>
          
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Website address 2</p>
        <div class="input-group">
                              <span class="input-group-addon" id="basic-addon3">http://</span>
                              <input type="text" name="website_optional" placeholder="www.website.com" class="form-control" id="basic-url-optional" aria-describedby="basic-addon3" pattern="^(?!(:|http|/)).+">
                          </div>
                        
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Facebook</p>
        <div class="input-group">
           <span class="input-group-addon" id="basic-addon1">@</span>
           <input type="text" class="form-control" placeholder="Facebook Username" name="handle_facebook" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
        </div>
                       </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Twitter</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Twitter Username" name="handle_twitter" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Instagram</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Instagram Username" name="handle_instagram" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>LinkedIn</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="LinkedIn Username" name="handle_linkedin" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Tumblr</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Tumblr Username" name="handle_tumblr" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>

                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Flickr</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Flickr Username" name="handle_flickr" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>

                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Periscope</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Periscope Username" name="handle_periscope" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Snapchat</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Snapchat Username" name="handle_snapchat" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Vimeo</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Vimeo Username" name="handle_vimeo" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>YouTube</p>
                         <div class="input-group">
                             <span class="input-group-addon" id="basic-addon1">@</span>
                             <input type="text" class="form-control" placeholder="Youtube Username" name="handle_youtube" aria-describedby="basic-addon1" pattern="^(?!(www|http|@|\/|\s))[^\s]+$">
                         </div>
                      </div>
                    </div>

% if (defined $Member && $Member->is_admin){
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>Mobile Phone Email (Admin Only)</p>
                        <input name="mobile_email" type="email" class="form-control">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <p>New SMS Email (Admin Only)</p>
                        <input value="" name="phone_email" type="email" class="form-control">
                      </div>
                    </div>
% }
                    <div class="clearfix"></div>
                  </div>
                </div>
              </div>
            </div>
% }            
              
        </div>
          
% if($active_member->model->acceptance_status eq 'archived'){
    <center>
      <p>
    <button class="brdr-btn m_t_10 button_f" name="action" style="width:140px;" type="submit" value="save">Save changes</button>
      </p>
      <p class="m_t_10">
    <button class="bten" name="action" style="width:140px;" type="button" value="My Portfolios">Add Profile</button>
      </p>
    </center>
% }elsif($active_member->model->acceptance_status eq 'pre_upgrade'&& !$Member->is_admin){
  <center>
    <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
    <div class="clearfix"></div>
    <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Next">Save & Continue</button>
    <div class="clearfix" style="padding-top:20px;"></div>
                <a style="color: red;" href="/archive_user_submit.html?action=delete_model<% $active_member->member_id %>" onclick="<& /modal_popup_link.mas, href => '/delete_account_modal.html?retr=1&m_id='.$active_member->member_id , elementId => 'userid_sent' &>; return false;">Delete Account</a>
  </center>
%}else{
          <p class="text-center">All items marked by an asterisk (*) are required</p>
    <center>
    <p class="m_b_10">Return to <a href="/my.html?part=&member_id=<% $active_member->member_id %>" style="color:#6639B6">MY ACCOUNT</a> page
    <& .return_to_home_first &><br> 
    <button class="bten-b5 m_t_10" name="action" value="Back">Back</button> <button class="bten-b5 m_t_10 bten-t" name="action" type="submit" value="Next">Next</button>
    <div class="clearfix"></div>
    <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Save">Save changes</button>
    </center>
% if($active_member->model->acceptance_status eq 'newmember'){
          <p class="text-center m_t_10"><i>(if you would like to continue at a later time)</i></p>
%}
% }
        </div>
      </div>
    </div>
  </div>

</%def>


<%def .part_characteristics>

  <div class="container-fluid">
    <div class="row">
      <div class="container accordin-search">
        <div class="col-md-10 col-md-offset-1">
% if($active_member->model->acceptance_status eq 'pre_upgrade' && !$Member->is_admin){

<div class="row">
<div class="col-md-3">
<p><b>Migration Progress:</b><p>
</div>
<div class="col-md-8">
<div class="progress">
  <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar"
  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:30%">
    30%
  </div>
</div>
</div>
</div>
%}

          <h1>Model Profile - Characteristics and Sizes</h1>
          <h2 style="color: #7f8c8d;font-size: 20px;font-weight: bold;margin-top: 30px;"><% $name_on_site_ref %></h2>
          <p  style="margin-top: 10px;">All items marked by an asterisk (*) are required</p>             
         <div class="panel-group" id="accordion1">
%# admin only section to be added
% if (defined $Member && $Member->is_admin) {
            <div class="panel panel-default">
              <div class="panel-heading" style="background-color: #b6b6b6;">
                <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-1"><h5 class="panel-title" style="color: white;">Admin Only<span class="pull-right"><i class="fa fa-angle-right"></i></span></h5></a>
              </div>
                <div id="profile-admin-1" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="search-page">
                             <& .subpart_age_only &>
%#                               <& .subpart_names &>
                            <div class="clearfix"></div>
                          </div>
                    </div>
                </div>
            </div>
% }         
            <div class="panel-default">
              <div class="panel-heading">
                <a data-toggle="collapse" href="#profile-admin-5" class="accordion-toggle"><h5 class="panel-title" >Section 5<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
                
                <div id="profile-admin-5" class="panel-collapse collapse in">
                    <div class="row">
                    <div class="panel-body">
    
                        <div class="search-page">
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Gender *</p>
                                <select name="gender" class="form-control">
                                  <option value="" selected="selected">-Gender- </option>
                                  <option value="male">Male </option>
                                  <option value="female">Female </option>
                                </select>
                              </div>
                            </div>
                            <div class="col-sm-4">
                      <div class="form-group">
                        
                        <input type="checkbox" values="Transgender" name = "Transgender_nam" class = "Transgender_box"> Transgender<br>
                        <input type="checkbox" values="Non-binary" name = "Non_binary_nam" class = "Non_binary_box"> Non-binary
                        <& .check_box_val &>
                                                
                        <br>
                      </div>
                  </div>
% my $age_range_style = "disabled" if (defined $Member && !$Member->is_admin) || $active_member->model->{age_lock};
% my $hiddenf = 'style="display:none;"'  if (defined $Member && !$Member->is_admin) || $active_member->model->{age_lock};
% my $style = 'style="opacity:0; position:absolute; left:9999px;"' if (defined $Member && !$Member->is_admin)  || !defined $Member;
                            <div class="col-md-4">
                              <div class="form-group" >
                                <div class="form-inline" <% $hiddenf  %> > <span>Age Range: </span>
                                  <input  name="age_appearance_min" size="2" class="form-control" type="text" id ="agemin"<% $age_range_style %>>
                                  <span class="to">to</span>
                                  <input  name="age_appearance_max" id ="agemax" size="2" class="form-control" type="text" <% $age_range_style %>>
                                  <div class="checkbox p_t_10" <% $style %>>
% if(defined $active_member && $active_member->model->{age_lock}){
                                    <input id="checkbox3" type="checkbox" name="age_lockd" checked>
                                    <label for="checkbox3"></label>
% }else{
                                    <input id="checkbox3" type="checkbox" name="age_lockd">
                                    <label for="checkbox3"></label>
%}
                                  </div>

% our %agecategory = (01 => "Newborn", 02 => "Infants", 04=> "Toddlers", 10 => "Kids", 13 => "Tween (Pre-Teen)", 17 => "Teen", 24 => "Young Adult", 36 => "Adult", 54 => "Mature Adult", 70 => "Classic / Sophisticated", 85 => "Senior", 99 => "Elderly");
% if(defined $active_member){
</div> 
                        <span style="font-size:12px;"><b>Age Appearance :</b> <% $agecategory{$active_member->model->{age_category}} %></span>
% }
 <input type="hidden" name="age_category" >
% if(!$Member->is_admin){
<input type="hidden" name="age_appearance_min">
<input type="hidden" name="age_appearance_max">
%}
                               <div class="clearfix"></div>
                              </div>
                            </div>
                            
                            <div class="clearfix"></div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Hair Color *</p>
                                <select name="hair_color" class="form-control">
                                  <option value="" selected="selected"> -Hair Color- </option>
                                  <option value="Auburn"> Auburn </option>
                                  <option value="Black"> Black </option>
                                  <option value="Blonde (light)"> Blonde (light) </option>
                                  <option value="Blonde (dark)"> Blonde (dark) </option>
                                  <option value="Brown (light)"> Brown (light) </option>
                                  <option value="Brown (dark)"> Brown (dark) </option>
                                  <option value="Grey"> Grey </option>
                                  <option value="Red"> Red </option>
                                  <option value="Salt and Pepper"> Salt and Pepper </option>
                                  <option value="Strawberry Blonde"> Strawberry Blonde </option>
                                  <option value="White"> White </option>
                                  <option value="No Hair"> No Hair </option>
                                </select>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Hair Length *</p>
                                <select name="hair_length" class="form-control">
                                  <option value="" selected="selected"> -Hair Length- </option>
                                  <option value="No Hair"> No Hair </option>
                                  <option value="Short"> Short </option>
                                  <option value="Short-Medium"> Short-Medium </option>
                                  <option value="Medium"> Medium </option>
                                  <option value="Medium-Long"> Medium-Long </option>
                                  <option value="Long"> Long </option>
                                </select>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Hair Style (select up to 4)*</p>
%#                              SR edited 18/02/2019
%               my $member_id_ref = $active_member->member_id;
%               my @hair_style_options = D2::field_options_with_value_hair_style($member_id_ref);
%               my $hair_style_options_ref = $hair_style_options[0][0];
%               my @spl = split(' ', $hair_style_options_ref);

% open my $obj, '>/tmp/array_ref';
% print $obj Dumper($hair_style_options_ref);
% print $obj Dumper(@spl);
% close $obj;

                 <& .select_type_checkbox_hair_style, group => '' , name => "hair_style", class=>'SlectBox form-control', no_head => '1' ,values =>[@spl], table_list => ["hair_style"], no_default => 1 &>
                 
%#                              SR edits End 

                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <p>Eye Color *</p>
      <& '/lib/select.mas',
         name => 'eye_color',
               options => [ '-', D2::field_options('eye_color'), ],
               no_labels => 1,
         
           &>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <p>Natural Skin Tone *</p>
                                <select name="skin_tone" class="form-control">
                                  <option value="" selected="selected"> -Skin Tone- </option>
                                  <option value="Light Cream"> Light Cream </option>
                                  <option value="Cream"> Cream </option>
                                  <option value="Light Olive"> Light Olive </option>
                                  <option value="Olive"> Olive </option>
                                  <option value="Light Tan"> Light Tan </option>
                                  <option value="Tan"> Tan </option>
                                  <option value="Dark Tan"> Dark Tan </option>
                                  <option value="Light Brown"> Light Brown </option>
                                  <option value="Brown"> Brown </option>
                                  <option value="Dark Brown"> Dark Brown </option>
                                  <option value="Jet"> Jet </option>
                                </select>
                              </div>
                            </div>

                            <div class="col-md-3">
                              <div class="form-group form-inline">
                                <p>Height *</p>
      <& '/lib/select.mas',
               name => 'height',
               options => [ '-', D2::field_options('height'), ],
               no_labels => 1,
        
            &>
   <span id="inches">   
                                <span>Inches:</span>
   <& '/lib/select_with_value.mas',
           name => 'height_inches',
           options => [ D2::field_options_with_value('height_inches'), ],
           no_labels => 1,
     attrs => { class => 'form-control' },
       &></span>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <p>Weight (pounds) *</p>
                                <input value="165" name="weight" type="text" class="form-control">
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <p>Ethnic Appearance *</p>
                                <select name="ethnic_descent" class="form-control">
                                  <option value=""  selected="selected"> -Ethnic Appearance- </option>
                                  <option value="African Descent"> African Descent  </option>
                                  <option value="Asian"> Asian </option>
                                  <option value="Caucasian"> Caucasian </option>
                                  <option value="EurAsian"> EurAsian </option>
                                  <option value="Indian (East)"> Indian (East) </option>
                                  <option value="Latinx"> Latinx </option>
                                  <option value="Middle Eastern"> Middle Eastern </option>
                                  <option value="Multiracial / Ambiguous"> Multiracial / Ambiguous </option>
                                  <option value="Native American"> Native American </option>
                                  <option value="Pacific Islander"> Pacific Islander </option>
                                  <option value="NONE OF THE ABOVE"> NONE OF THE ABOVE </option>
                                </select>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <p>Family Nationality/Ancestry (Select 1) <span data-original-title="Family nationality refers to the historical nationality of your parents and possibly grandparents. This does not refer to your citizenship. We often have clients who look for talent who are from or whose parents are from a different country such as Ethiopia, China, Colombia, etc. even though they may be American citizens." data-toggle="tooltip" data-placement="top" title=""><a href="#"><i class="fa fa-question-circle"></i></a></span> <!--<a href="#" style="color:#212121" data-toggle="modal" data-target="#birth-day"><i class="fa fa-lightbulb-o"></i></a>--></p>
<script>
$(function () {
$('[data-toggle="tooltip"]').tooltip()
})
</script>

<& .select_type_checkbox_model, group => '' , name => "model_nationality", class=>'SlectBox form-control', values => [], no_head => '1' , table => "nationality", is_active =>'' &>
                              </div>
                            </div>

                            <div class="clearfix"></div>
                          </div>
                    </div>
                </div>
                </div>
            </div>

           
            
            
            
            <div class="panel-default">
              <div class="panel-heading">
              <a data-toggle="collapse"  href="#profile-admin-6" class="accordion-toggle"><h5 class="panel-title">Section 6<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-6" class="panel-collapse collapse in">
                  <div class="row">
                <div class="panel-body">
                    <p class="m_t_10">Providing sizes is optional (but HIGHLY recommended) for talent under 18 years of age.</p>
                     <div class="panel-group accordin-sub" id="accordion3">
              
% if( $active_member->model->gender eq 'male'){
          <div class="panel panel-default">
                            <div class="panel-heading" style="border-top: none;">
% if($active_member->model->{age_real} < 18){
                                <a data-toggle="collapse" data-parent="#accordion3" href="#model-char-1" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">+</div>Male Sizes (Adult U.S.)</h5></a>

                            </div>
% if (defined $Member && $Member->is_admin){
                            <div id="model-char-1" class="panel-collapse collapse in">
% }else{
                            <div id="model-char-1" class="panel-collapse collapse">
% }                            
%}else{
 <a data-toggle="collapse" data-parent="#accordion3" href="#model-char-1" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">-</div>Male Sizes (Adult U.S.)</h5></a>

                            </div>

                            <div id="model-char-1" class="panel-collapse collapse in">
%}

                                <div class="panel-body">
                                     <div class="search-page">
                                      <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>*Waist</p>
                                                <& '/size_select.mas',
                                                    name => 'waist_size_male',
                                                    default => '-',
                                                    min => 19, max => 48, no_labels => 1,
                                                    attrs => { class => 'form-control' },
                                                &>
                                          </div>
                                      </div>
          <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>*Inseam </p>
                                                <& '/size_select.mas',
                                                    name => 'inseam_size_male',
                                                    default => '-',
                                                    min => 13, max => 41, no_labels => 1,
                                                    attrs => { class => 'form-control' },
                                                &>
                                          </div>
                                      </div>
          <div class="col-md-4">
                                              <div class="form-group">
                                                <p> T-Shirt (optional)</p>
                                                <& '/lib/select_with_value.mas',
                                                     name => 'tshirt_size_male',
                                                     options => [ D2::field_options_with_value('tshirt_size') ],
                                                     no_labels => 1,
                                                    attrs => { class => 'form-control' },
                                                &>

                                              </div>
                                            </div>

             <div class="col-sm-4">
                                            <div class="form-group">
                                        <p>*Jacket Size </p>
            <& '/size_select.mas',
                      name => 'jacket_size',
                default => '-',
                      min => 38, max => 53, step => 2, no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                            </div>
                                      </div>
                                      <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>*Jacket Length </p>
            <& '/size_select.mas',
                      name => 'jacket_length',
                default => '-',
                      options => [ 'Short', 'Regular', 'Long' ], no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                          </div>
                                      </div>
          <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>*Shoe </p>
                                                <& '/size_select.mas',
                                                    name => 'shoe_size_male',
                                                    default => '-',
                                                    min => 9, max => 18, step => 0.5, no_less => 1, no_labels => 1,
                                                    attrs => { class => 'form-control' },
                                                &>
                                          </div>
                                      </div>

                                      <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>*Sleeve </p>
            <& '/size_select.mas',
                      name => 'sleeve_size',
                default => '-',
                      min => 32, max => 39, slashed => 1, no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                          </div>
                                      </div>
                                            

                                         <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>*Neck</p>
            <& '/size_select.mas',
                      name => 'neck_size',
                default => '-',
                      min => 14, max => 21.5, step => 0.5, no_labels => 1,
                attrs => { class => 'form-control' },
                  &>
                                          </div>
                                      </div>
                                         <div class="clearfix"></div>
                                     </div>
                                </div>
                            </div>

                        </div>
%if($active_member->model->{age_real} < 18){
 <& .child_size &>
%}
                         
%}elsif( $active_member->model->gender eq 'female'){
                        <div class="panel panel-default">
                            <div class="panel-heading">
% if($active_member->model->{age_real} < 18){
                                <a data-toggle="collapse" data-parent="#accordion3" href="#model-char-2" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">+</div>Female Sizes (Adult U.S.)</h5></a>
                            </div>
% if (defined $Member && $Member->is_admin){
                            <div id="model-char-2" class="panel-collapse collapse in">
% }else{
                            <div id="model-char-2" class="panel-collapse collapse">	
% }                            
%}else{
  <a data-toggle="collapse" data-parent="#accordion3" href="#model-char-2" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">-</div>Female Sizes (Adult U.S.)</h5></a>
                            </div>

                            <div id="model-char-2" class="panel-collapse collapse in">
%}
                                <div class="panel-body">
                                     <div class="search-page">
                                         <div class="col-sm-4">
                                             <div class="form-group">
                                            <p>*Bust </p>
            <& '/size_select.mas',
                      name => 'bust_size',
                default => '-', 
                      min => 18, max => 52, step => 0.5, no_labels => 1,
                  &>
                                             </div>
                                          </div>
                                          <div class="col-sm-4">
                                              <div class="form-group">
                                            <p>*Cup </p>
              <& '/lib/select_with_value.mas',
                 name => 'cup_size',
                 options => [ D2::field_options_with_value('cup_size') ],
                 no_labels => 1,
                 attrs => { class => 'form-control' },
              &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                              <div class="form-group">
                                            <p>*Waist </p>
            <& '/size_select.mas',
                      name => 'waist_size_female',
                default => '-', no_labels => 1,
                      min => 18, max => 52, step => 0.5,
                  &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>*Hip</p>
            <& '/size_select.mas',
                      name => 'hip_size',
                default => '-', no_labels => 1,
                      min => 18, max => 52,
            &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>*Dress Size (your standard size)</p>
            <& '/size_select.mas',
                      name => 'dress_size',
                      default => '-', no_labels => 1,
                      min => 0, max => 30, no_less => 1, no_larger => 1,
                      slash_stepped => 1,
                 &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>*Dress Size (your maximum size)</p>
            <& '/size_select.mas',
                      name => 'dress_size_optional',
                      default => '-', no_labels => 1,
                      min => 0, max => 30, no_less => 1, no_larger => 1,
                      slash_stepped => 1,
                 &>
                                              </div>
                                          </div>

                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>*Shoe</p>
            <& '/size_select.mas',
                      name => 'shoe_size_female',
                default => '-', no_labels => 1,
                      min => 2, max => 14, step => 0.5, no_larger => 1,
                  &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>U.S. Jeans (optional) </p>
            <& '/lib/select_with_value.mas',
                name => 'us_jeans_size',
                options => [ D2::field_options_with_value('us_jeans_size') ],
                no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>Designer Jeans (optional)</p>
            <& '/lib/select_with_value.mas',
                name => 'designer_jeans_size',
                options => [ D2::field_options_with_value('designer_jeans_size') ],
                no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                              </div>
                                          </div>
                                          <div class="col-sm-4">
                                          <div class="form-group">
                                        <p>Inseam (optional)</p>
            <& '/size_select.mas',
                      name => 'inseam_size_female',
                default => '-',
                      min => 13, max => 41, no_labels => 1,
                attrs => { class => 'form-control' },
                  &>
                                          </div>
                                          </div>

                                          <div class="col-sm-4">
                                               <div class="form-group">
                                            <p>T-Shirt Size (optional) </p>
            <& '/lib/select_with_value.mas',
                 name => 'tshirt_size_female',
                 options => [ D2::field_options_with_value('tshirt_size') ],
                 no_labels => 1,
                attrs => { class => 'form-control' },
            &>
                                              </div>
                                          </div>

                                         <div class="clearfix"></div>
                                     </div>
                                </div>
                            </div>

                        </div> 
%if($active_member->model->{age_real} < 18){
 <& .child_size &>
%}
                         
%}
   
                     </div>
                </div>      
                </div>
              </div>
            </div>
                 
        </div>

%# SR EDITZ on 21/02/2019
%# ******************************************************************
% if (defined $Member && $Member->is_admin) {
      <div>
        <a href="#" data-toggle="modal" data-target="#delete_adult_size" class="action_list1 clearing_adult" id = 'clearing_adult_idone'>Clear ALL Adult Sizes</a>
        <br>
        <a href="#" data-toggle="modal" data-target="#delete_child_size" class="action_list1 clearing_adult" id = 'clearing_adult_idtwo'>Clear ALL Child Sizes</a>  
      </div>  
      <style>
        .clearing_adult{
          color:red !important;
        }
        .clearing_adult:hover {
            text-decoration: underline !important;
            color:red;
        }        
      </style>
      <div class="modal fade" id="delete_adult_size" style="padding-right: 15px; padding-left: 15px;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div class="modal-dialog clipboard-confirm">
          <div class="modal-content">
            <div class="modal-body text-center">
              <p style="font-size: 16px;"><br>
              Are you sure you want to delete all adult sizes from this profile?
              <br></p>
              <div class="clearfix"></div>
              <a data-dismiss="modal" class="bten-b5 text-center class_to_reload">Confirm</a>
              <a onclick="return false;" data-dismiss="modal" class="brdr-btn-b5 text-center">Cancel</a>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="delete_child_size" style="padding-right: 15px; padding-left: 15px;" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div class="modal-dialog clipboard-confirm">
          <div class="modal-content">
            <div class="modal-body text-center">
              <p style="font-size: 16px;"><br>
              Are you sure you want to delete all child sizes from this profile?
              <br></p>
              <div class="clearfix"></div>
              <a data-dismiss="modal" class="bten-b5 text-center class_to_reload_child">Confirm</a>
              <a onclick = "return false;" data-dismiss="modal" class="brdr-btn-b5 text-center">Cancel</a>
            </div>
          </div>
        </div>
      </div>
% my $member_id_ref= $active_member->member_id;
% my $gender_ref = $active_member->model->gender;      
      <script>
           	$('.class_to_reload').click(function(){
           		if("<% $gender_ref %>" == "male"){
	           		$.ajax({
					  url: "ChildAdult_male.htm",
					  type:'POST',
					  data: {member_id : <% $member_id_ref %>} ,
					  success: function(result){
					    location.reload();
					  }
					});
				}
				if("<% $gender_ref %>" == "female"){
					$.ajax({
					  url: "ChildAdult_female.htm",
					  type:'POST',
					  data: {member_id : <% $member_id_ref %>} ,
					  success: function(result){
					    location.reload();
					  }
					});
				}
			});
			$('.class_to_reload_child').click(function(){
				$.ajax({
					url: "ChildAdult_child.htm",
					type:'POST',
					data: {member_id : <% $member_id_ref %>} ,
					success: function(result){
						location.reload();
				  	}
				});
			});
      </script>

%}
%# ******************************************************************      
%# SR EDITZ end on 21/02/2019

% if($active_member->model->acceptance_status eq 'pre_upgrade'&& !$Member->is_admin){
        <center>

                <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
                <div class="clearfix"></div>
                <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Next">Save & Continue</button>
     <div class="clearfix" style="padding-top:20px;"></div>
                <a style="color: red;" href="/archive_user_submit.html?action=delete_model<% $active_member->member_id %>" onclick="<& /modal_popup_link.mas, href => '/delete_account_modal.html?retr=1&m_id='.$active_member->member_id , elementId => 'userid_sent' &>; return false;">Delete Account</a>
        </center>
%}else{
          <p class="text-center m_t_20">All items marked by an asterisk (*) are required</p>
    <center>
    <p class="m_b_10">Return to <a href="/my.html?part=&member_id=<% $active_member->member_id %>" style="color:#6639B6">MY ACCOUNT</a> page
    <& .return_to_home &>  
    <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
     <button class="bten-b5 m_t_10 bten-t" name="action" type="submit" value="Next">Next</button>
     <div class="clearfix"></div>
     <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Save">Save Changes</button>
    </center>

% if($active_member->model->acceptance_status eq 'newmember'){
          <p class="text-center m_t_10"><i>(if you would like to continue at a later time)</i></p>
%}
%}
        </div>
      </div>
    </div>
  </div>

</%def>


<%def .part_additional_1>
  <div class="container-fluid">
    <div class="row">
      <div class="container accordin-search">
        <div class="col-md-10 col-md-offset-1">
% if($active_member->model->acceptance_status eq 'pre_upgrade' && !$Member->is_admin){

<div class="row">
<div class="col-md-3">
<p><b>Migration Progress:</b><p>
</div>
<div class="col-md-8">
<div class="progress">
  <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar"
  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:50%">
    50%
  </div>
</div>
</div>
</div>
%}

          <h1>Model Profile - Availability and Specialties </h1>
          <h2 style="color: #7f8c8d;font-size: 20px;font-weight: bold;margin-top: 30px;margin-bottom: 10px;"><% $name_on_site_ref %></h2>
          <div class="panel-group" id="accordion1">
% if (defined $Member && $Member->allowed_action('edit_model')) {
            <div class="panel panel-default">
              <div class="panel-heading" style="background-color: #b6b6b6;">
                <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-1"><h5 class="panel-title" style="color: white;" >Admin Only<span class="pull-right"><i class="fa fa-angle-right"></i></span></h5></a>
              </div>
                
                <div id="profile-admin-1" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="search-page">
                             <& .subpart_age_only &>
                            <div class="clearfix"></div>
                          </div>
                    </div>
                </div>
            </div>
% }               
             <div class="panel-default">
               <div class="panel-heading">
                 <a data-toggle="collapse" href="#profile-admin-5"><h5 class="panel-title" >Section 7<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
               </div>
               <style> 
    .m_t_0 li div.checkbox {
      margin-top: 0px;
    }
               </style> 
                <div id="profile-admin-5" class="panel-collapse collapse in">
                    <div class="row">
                    <div class="panel-body">

                        
                        
                        <div class="panel-group accordin-sub" id="accordion3">
                        <div class="panel panel-default">
                            <div class="panel-heading" style="border-top: none;">
                              <a style="color: rgb(0, 0, 0);" data-toggle="collapse" href="#model-char-1" class="sub-cordian" aria-expanded="true"><h5 class="panel-title" >
                              <div class="active-status">-</div>Availability</h5></a>
                            </div>

                            <div id="model-char-1" class="panel-collapse collapse in">
                                <div class="panel-body">
                                     <div class="search-page">
    <& '/lib/checkbox_grid_resp.mas',
        name => 'model_job_type',
        options => [ D2::field_options_bitmask_orderby('model_job_type') ],
        cols => 3,
    &>
                                        <div class="clearfix"></div>
             </div>

        </div>

                            </div>

                        </div>
                         
                         
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <a data-toggle="collapse" href="#model-char-2" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">-</div>Specialties</h5></a>
                            </div>

                            <div id="model-char-2" class="panel-collapse collapse in">
                                <div class="panel-body">
                                     <div class="search-page">
    <& '/lib/checkbox_grid_resp.mas',
        name => 'model_specialty',
        options => [ D2::field_options_bitmask('model_specialty') ],
        cols => 3,
    &>
                          <div class="clearfix"></div>
                        </div> 
                                </div>
                            </div>

                        </div> 
                         
                         
                      <div class="panel panel-default">
                            <div class="panel-heading">
                                <a data-toggle="collapse" href="#model-char-3" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">-</div>Special Qualities</h5></a>
                            </div>

                            <div id="model-char-3" class="panel-collapse collapse in">
                                <div class="panel-body">
                                     <div class="search-page">
                                        <div class="col-sm-4">
                                          <div class="checkbox">
                                            <input id="checkbox23" type="checkbox" name="has_quality_celebrity"<% $active_member->model->quality_celebrity?'checked':'' %>>
                                            <label for="checkbox23">Celebrity Look-alike (Who?)</label>
                                          </div>
                                          <input class="form-control" name="quality_celebrity" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox24" type="checkbox" name="has_quality_unique_features" <% $active_member->model->quality_unique_features?'checked':'' %>>
                                            <label for="checkbox24">Unique Features (What?)</label>
                                          </div>
                                          <input class="form-control" name="quality_unique_features" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox231" type="checkbox" name="has_quality_unique_talent" <% $active_member->model->quality_unique_talent?'checked':'' %>>
                                            <label for="checkbox231">Unique Talent (What?)</label>
                                          </div>
                                          <input class="form-control" name="quality_unique_talent" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox242" type="checkbox" name="has_quality_voice_impersonator" <% $active_member->model->quality_voice_impersonator?'checked':'' %>>
                                            <label for="checkbox242">Voice Impersonator (Who?)</label>
                                          </div>
                                          <input class="form-control" name="quality_voice_impersonator" type="text">
                                        </div>
                                        <div class="col-sm-4">
                                          <div class="checkbox">
                                            <input id="checkbox233" type="checkbox" name="has_quality_pet" <% $active_member->model->quality_pet?'checked':'' %>>
                                            <label for="checkbox233">Have Pet (Type?)</label>
                                          </div>
                                          <input class="form-control" name="quality_pet" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox244" type="checkbox" name="has_quality_car" <% $active_member->model->quality_car?'checked':'' %>>
                                            <label for="checkbox244">Have Exotic/high-end car (Type?)</label>
                                          </div>
                                          <input class="form-control" name="quality_car" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox235" type="checkbox" name="has_quality_tatoos" <% $active_member->model->quality_tatoos?'checked':'' %>>
                                            <label for="checkbox235">Have tattoos (Where?)</label>
                                          </div>
                                          <input class="form-control" name="quality_tatoos" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox246" type="checkbox" name="has_quality_pregnant" <% $active_member->model->quality_pregnant?'checked':'' %>>
                                            <label for="checkbox246">Is pregnant (Due date?)</label>
                                          </div>
                                          <input class="form-control" name="quality_pregnant" type="text">
                                        </div>
                                        <div class="col-sm-4">
                                          <div class="checkbox">
                                            <input id="checkbox237" type="checkbox" name="has_quality_children" <% $active_member->model->quality_children?'checked':'' %>>
                                            <label for="checkbox237">Have Children (How many?)</label>
                                          </div>
                                          <input class="form-control" name="quality_children" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox248" type="checkbox" name="has_quality_piercings" <% $active_member->model->quality_piercings?'checked':'' %>>
                                            <label for="checkbox248">Have Piercings (other than ears) (Where?)</label>
                                          </div>
                                          <input class="form-control" name="quality_piercings" type="text">
                                          <div class="checkbox">
                                            <input id="checkbox239" type="checkbox" name="has_quality_twins" <% $active_member->model->quality_twin?'checked':'' %>>
                                            <label for="checkbox239">Are a twin, triplet, etc. (Which?) </label>
                                          </div>
                                          <input class="form-control" name="quality_twin" type="text">
                                        </div>
                                        <div class="clearfix"></div>
%#                                        <p><br>&nbsp;&nbsp;[----------------------[SPECIAL QUALITIES CHECKBOXES / FIELDS]---------------------]<br><br><b>&nbsp;&nbsp;Special Qualities information will NOT be searchable by clients or publicly displayed on your profile.</b></p>
                                      </div>
                                </div>
                            </div>
                        </div>
<input type="hidden" name="age_category" >
<input type="hidden" name="age_appearance_min">
<input type="hidden" name="age_appearance_max">
 
                            
                            
% if ($is_under_18 && ($active_member->model->{age_real} < 18)) { 
 <input type=hidden value=None name=nudity_level>
%}else{
                    <div class="panel panel-default">
                            <div class="panel-heading">
                                <a data-toggle="collapse" href="#model-char-4" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">+</div>Additional Information - Acceptable Nudity Level</h5></a>
                            </div>

                            <div id="model-char-4" class="panel-collapse collapse">
                                <div class="panel-body">
                                     <div class="search-page">
                                <div class="col-md-4">
                                  <select name="nudity_level" class="form-control">
                                 %#   <option value="" selected> -Nudity Level- </option>
                                    <option value="None" selected> None </option>
                                    <option value="Implied"> Implied </option>
                                    <option value="Partial (Topless)"> Partial (Topless) </option>
                                    <option value="Full"> Full </option>
                                  </select>
                                </div>
                                <div class="col-md-12">
                                  <p class="m_t_10"><span style="text-decoration:underline">Implied</span> = Sheer material (Victoria's Secret-style) or strategic coverings (Maxim-style).</p>
                                  <p><span style="text-decoration:underline">Topless or Full Nudity</span> = Self-explanatory, but these do NOT imply availability for erotica, amateur, "adult", or other "risqu" work - D2 does not work with these types of clients. Some mainstream television, film, and fashion editorial projects produced by established companies may include tasteful nudity, and these are the only types of projects that we consider on a case-by-case basis.
                                  <p class="m_t_10"><b>Acceptable nudity level information will NOT be searchable by clients or displayed on your profile.</b></p>
<!--                                  <p class="m_t_10"><i class="fa fa-angle-double-right"></i> Your nudity level does NOT necessarily imply availability for fine art, glamour, erotica, amateur, or other "risqu" work. Select the GLAMOUR MODELING (Playboy-style nudity), FINE ART MODELING (artistic nudes), and/or EROTICA MODELING (Penthouse-style) specialties above to further specify the types of assignments for which you are available.</p>
                                  <p><i class="fa fa-angle-double-right"></i> Topless or Full Nudity = Self-explanatory, but these do NOT necessarily imply availability for erotica, amateur, or other "risqu" work.</p>-->
                                </div>
                                <div class="clearfix"></div>
                              </div>
                                </div>
                            </div>

                        </div> 
% } 
                     </div>
                    </div>
                </div>
                 </div>
             </div>
            </div>
% if($active_member->model->acceptance_status eq 'pre_upgrade'&& !$Member->is_admin){
        <center>
                <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
                <div class="clearfix"></div>
                <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Next">Save & Continue</button>
     <div class="clearfix" style="padding-top:20px;"></div>
                <a style="color: red;" href="/archive_user_submit.html?action=delete_model<% $active_member->member_id %>" onclick="<& /modal_popup_link.mas, href => '/delete_account_modal.html?retr=1&m_id='.$active_member->member_id , elementId => 'userid_sent' &>; return false;">Delete Account</a>
        </center>
%}else{
    <center>
    <p class="m_b_10">Return to <a href="/my.html?part=&member_id=<% $active_member->member_id %>" style="color:#6639B6">MY ACCOUNT</a> page
    <& .return_to_home &> 
    <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
     <button class="bten-b5 m_t_10 bten-t" name="action" type="submit" value="Next">Next</button>
     <div class="clearfix"></div>
     <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Save">Save Changes</button>
    </center>
 
% if($active_member->model->acceptance_status eq 'newmember'){
          <p class="text-center m_t_10"><i>(if you would like to continue at a later time)</i></p>
%} 
        </div>
% }
      </div>
    </div>
  </div>

</%def>


<%def .part_additional_2>
  <div class="container-fluid">
    <div class="row">
      <div class="container accordin-search">
        <div class="col-md-10 col-md-offset-1">
<input type="hidden" name="age_category" >
<input type="hidden" name="age_appearance_min">
<input type="hidden" name="age_appearance_max">

% if($active_member->model->acceptance_status eq 'pre_upgrade' && !$Member->is_admin){

<div class="row">
<div class="col-md-3">
<p><b>Migration Progress:</b><p>
</div>
<div class="col-md-8">
<div class="progress">
  <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar"
  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:60%">
    60%
  </div>
</div>
</div>
</div>
%}

          <h1>Model Profile - Union Info</h1>
          <h2 style="color: #7f8c8d;font-size: 20px;font-weight: bold;margin-top: 30px;margin-bottom: 10px;"><% $name_on_site_ref %></h2>
           <div class="panel-group" id="accordion1">
% if (defined $Member && $Member->is_admin) {
            <div class="panel panel-default">
              <div class="panel-heading" style="background-color: #b6b6b6;">
                <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-1"><h5 class="panel-title" style="color: white;">Admin Only<span class="pull-right"><i class="fa fa-angle-right"></i></span></h5></a>
              </div>
                <div id="profile-admin-1" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="search-page">
                             <& .subpart_age_only &>
                            <div class="clearfix"></div>
                          </div>
                    </div>
                </div>
            </div>
% }           
% if (defined $Member && $Member->allowed_action('edit_model')) {
            <div class="panel-default">
              <div class="panel-heading">
                <a data-toggle="collapse" href="#profile-admin-7"><h5 class="panel-title" >Agency Info<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>

<div id="profile-admin-7" class="panel-collapse collapse in">
                    <div class="row">
                    <div class="panel-body">
                        <div class="search-page">
                        <div class="col-md-3">
                          <p>Your Agencies</p>
%  for (1 .. $D2::MAX_MODEL_AGENCIES) {
                          <div class="form-group">
                            <input name="agency_id_<% $_ %>" type="text" class="form-control">
                          </div>
% }
                        </div>
                        <div class="col-md-3">
                          <p>City, State</p>
%  for (1 .. $D2::MAX_MODEL_AGENCIES) {
                          <div class="form-group">
                            <input name="agency_address_<% $_ %>" type="text" class="form-control">
                          </div>
% }
                        </div>
                        <div class="col-md-3">
                          <p>Type of Agency</p>
%  for (1 .. $D2::MAX_MODEL_AGENCIES) {
                          <div class="form-group">
                            <select name="agency_type_<% $_ %>" class="form-control">
                              <option value="" selected> -Type of Agency- </option>
                              <option value="Commercial"> Commercial </option>
                              <option value="Fashion"> Fashion </option>
                              <option value="Multi-purpose"> Multi-purpose </option>
                              <option value="Print"> Print </option>
                              <option value="Runway"> Runway </option>
                              <option value="Theatrical"> Theatrical </option>
                            </select>
                          </div>
% }
                        </div>
                        <div class="col-md-3">
                          <p>Exclusive Contract</p>
%  for (1 .. $D2::MAX_MODEL_AGENCIES) {
                          <div class="form-group">
                            <select name="agency_is_contract_exclusive_<% $_ %>" class="form-control">
                              <option value="" selected> -Exclusive Contract?- </option>
                              <option value="1"> Yes </option>
                              <option value="0"> No </option>
                            </select>
                          </div>
% }
                        </div>
                        <div class="clearfix"></div>
                      </div>
                    </div>
                    </div>
                </div>
                
            </div>
% }
            
            <div class="panel-default">
              <div class="panel-heading">
              <a data-toggle="collapse" href="#profile-admin-8"><h5 class="panel-title" >Section 8<span class="pull-right"><i class="fa fa-angle-down"></i></span></h5></a>
              </div>
              <div id="profile-admin-8" class="panel-collapse collapse in">
                  <div class="row">
                <div class="panel-body">
                   <div class="search-page">
% if(0){                  
                    <div class="col-md-12">
                      <p>Union Affiliation</p>
                    </div>
                    <div class="form-inline union">
                      <div class="checkbox">
                        <input id="checkbox3" type="checkbox" name="model_union" value="1">
                        <label for="checkbox3">Non-Union / Inactive Member</label>
                      </div>
                      <div class="checkbox">
                        <input id="checkbox4" type="checkbox" name="model_union" value="4">
                        <label for="checkbox4">SAG-AFTRA (Active)</label>
                      </div>
                      <div class="checkbox">
                        <input id="checkbox6" type="checkbox" name="model_union" value="16">
                        <label for="checkbox6">AEA</label>
                      </div>
                    </div>
% }
                          <p style="margin-left:10px;">Union Affiliation</p>
%#                        ****Edited 28/11/2018                          
%#                          <p style="margin-left:10px;margin-top: -6px;"><i>
%#                          (this information will not be visible on your profile or searchable by clients)</i>
%#                          </p>
<div class="col-md-3">
                          <div class="form-group">
<!--<& .select_type_checkbox_model, group => '' , name => "model_union", class=>'SlectBox form-control', values => [], no_head => '1' , table => "model_union", is_active =>'' &>-->
<p>SAG-AFTRA Status</p>
<& '/lib/select_with_value.mas',
          name => "model_union",
          options => [ ['SAG-AFTRA Status (select 1)', 0], D2::field_options_with_value('model_union') ],
          no_labels => 1,
      &>
</div>
</div>
<div class="col-md-3">
                          <div class="clearfix"></div>
                          <div class="form-group">
<!--<& .select_type_checkbox_model, group => '' , name => "model_union", class=>'SlectBox form-control', values => [], no_head => '1' , table => "model_union_others", is_active =>'' &>-->
%#                        ****Edited 28/11/2018                          

%#     <& '/lib/select_with_value.mas',
%#          name => "model_union",
%#          options => [ ['- Other Unions -', 0], D2::field_options_with_value('model_union_others', 'model_union') ],
%#          no_labels => 1,
%#      &>
    <p>Other Unions</p>
        
        <& .select_type_checkbox_model_union, group => '' , name => 'model_union', class=>'SlectBox form-control', no_head => '1' , table_list => ['model_union_others'], no_default => 1 &>

</div>
</div>

                    <div class="clearfix"></div>
                    <p style="margin-left:10px;"><b>Union information will NOT be searchable by clients or displayed on your profile.</b></p>
                  </div>
                </div>
                </div>
              </div>
            </div>
      </div>
% if($active_member->model->acceptance_status eq 'pre_upgrade'&& !$Member->is_admin){
        <center>
                <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
                <div class="clearfix"></div>
                <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Next">Save & Continue</button>
    <div class="clearfix"></div>
    <p style="padding-top:5px;"><i style="color:#683ab7;">Be patient with this one. It will take a moment...</i></p> <div class="clearfix" style="padding-top:20px;"></div>
  <a style="color: red;" href="/archive_user_submit.html?action=delete_model<% $active_member->member_id %>" onclick="<& /modal_popup_link.mas, href => '/delete_account_modal.html?retr=1&m_id='.$active_member->member_id , elementId => 'userid_sent' &>; return false;">Delete Account</a>
        </center>
%}else{    
  <center>
    <p class="m_b_10">Return to <a href="/my.html?part=&member_id=<% $active_member->member_id %>" style="color:#6639B6">MY ACCOUNT</a> page 
    <& .return_to_home &>
    <button class="bten-b5 m_t_10" name="action" value="Back">Back</button>
     <button class="bten-b5 m_t_10 bten-t" name="action" type="submit" value="Next">Next</button>
     <div class="clearfix"></div>
     <button class="brdr-btn m_t_10 button_f" name="action" type="submit" value="Save">Save Changes</button>

% if($active_member->model->acceptance_status eq 'newmember'){
    <p><em>(if you would like to continue at a later time)</em>
%}    

    </center>
% }
    </div>
  </div>

% if (0) {
 <h2 id="bioQuote">Section 9</h2>
 <table class="commonForm">
  <tr>
   <th>Bio / Quote
  <tr>
   <td>
    <p>Please tell us and our clients a little about yourself.
     All applicants must follow these guidelines when filling out this section:
    <ul>
     <li>Do <strong class="warning">NOT</strong> include your full name
     <li>Do <strong class="warning">NOT</strong> include your address
     <li>Do <strong class="warning">NOT</strong> include your phone number
     <li>Do <strong class="warning">NOT</strong> include your email address
     <li>Do <strong class="warning">NOT</strong> include ANY links to ANY websites
     <li>Do <strong class="warning">NOT</strong> include the name of any agent or manager
     <li>Do <strong class="warning">NOT</strong> include ANY contact information for ANYone
    </ul>
    <p>Failure to follow these guidelines will result in the immediate
     removal of your listing without prior notification.
    <p><textarea name="quote" cols="70"></textarea>
 </table>
% };
</%def>


<%def .agency>
% my ($no) = @_;
 <tr>
  <td><input name="agency_id_<% $no %>" type="text" size="30">
  <td><input name="agency_address_<% $no %>" type="text" size="30">
  <td><& '/lib/select.mas',
          name => "agency_type_$no",
          options => [ '-Type of Agency-', D2::field_options('model_agency_type') ],
          no_labels => 1,
      &>
  <td><& '/lib/select.mas',
          name => "agency_is_contract_exclusive_$no",
          options => [
     '' => '-Exclusive Contract?-',
     1 => 'Yes',
     0 => 'No',
    ],
      &>
</%def>


<%def .part_images>
 <%init>;
  my $notes = $m->scomp('.image_upload_notes');
 </%init>
  <& '/profile_part_images.mas',
      listing => $active_member->model,
      notes => $m->scomp('.image_upload_notes'),
      details_field_type => 'credits',
  &>
<script>
% if($m->request_args->{migrate} == 1) {
        $(function() {                       // On DOM ready
           
            $('#migrate_success').modal('show');     // Show the modal
        });
% }
</script>
</%def>


<%def .image_upload_notes>
% if (defined $active_member && $active_member->model->acceptance_status =~ /^(new|real_new)$/) {
<!--   <p class="first"><strong class="warning">
Please keep in mind when adding/replacing images that your portfolio 
will be temporarily unavailable to clients until we review your pictures, 
so you are advised to only update your pictures no more than once every 
other week.
  </strong>   --> 
<div class="clearfix"></div>
<!--
   <p><strong class="warning">This form is for direct submissions
    from talent and their guardians only. Please no submissions from
    agents or managers.
-->
% } else {
%# SR edited 08/02/2019
% if (defined $Member && $Member->is_admin) {
            <div class="panel panel-default">
              <div class="panel-heading" style="background-color: #b6b6b6;">
                <a data-toggle="collapse" data-parent="#accordion1" href="#profile-admin-1"><h5 class="panel-title" style="color: white;">Admin Only<span class="pull-right"><i class="fa fa-angle-right"></i></span></h5></a>
              </div>
                <div id="profile-admin-1" class="panel-collapse collapse">
                    <div class="panel-body" id = "want_to_remove">
                        <div class="search-page">
                             <& .subpart_age_only &>
                            <div class="clearfix"></div>
                          </div>
                    </div>
                </div>
            </div>

% }
%# SR end
%# Edited 28/03/2019 --SR--

%# db connection to take name_on_site value from listing table --------------
%	our $DB_NAME =  'd2';
%  	our @DBI_CONNECT_PARAMS = ("dbi:mysql:database=$DB_NAME;host=localhost", 'd2','d2',{ AutoCommit => 1, RaiseError => 1 });
%  	our $dbh = DBI->connect(@DBI_CONNECT_PARAMS) or die "Unable to connect to database: $DBI::errstr\n";
%   my ($listing_id_ref) = $dbh->selectrow_array("select listing_id from listing where member_id=".$active_member->member_id);
%	my ($name_on_site_ref) = $dbh->selectrow_array("select name_on_site from listing where member_id=".$active_member->member_id);
%	my ($name_first_ref) = $dbh->selectrow_array("select member_name_first from model where listing_id = $listing_id_ref");
%	my ($name_last_ref) = $dbh->selectrow_array("select member_name_last from model where listing_id = $listing_id_ref");
%	$dbh->disconnect;
%# db conection end --------
<style>
	.link:hover{
	    text-decoration:underline !important;
	}
</style>
<br><p><span style="color:#ff0000">Please upload your images here and we will select and sort those that we think are best to display.</span>&nbsp;Images can be JPEG, PNG, BMP or TIFF format and a maximum size of 5 megabytes.</p>
          <p class="m_t_10 m_b_10">If you need new professional images, depending on where youre located we may be able to send you a list of recommended photographers.  Please just 
  				
  				<a href="mailto:photographer.request@d2models.com?subject=D2%20Models%20-%20Request%20for%20Photographer%20Recommendations&body=I'm%20interested%20in%20receiving%20photographer%20recommendations.%0A%0ACity:%20<% $active_member->nearest_city%>%0AModel:%20<%$name_on_site_ref%>%20(<%$name_first_ref%>%20<%$name_last_ref%>)" class="link"><b>send us an email</b></a>

          that includes your full name as it appears in your D2 account as well as your nearest large city.</p>
          <p>Please keep in mind when adding/replacing images that your portfolio may be temporarily unavailable to clients until we review your pictures, so you are advised to only update your pictures no more than once every other week.</p>
%# Edited 28/03/2019 --SR-- end          
% }

          <h4 style="text-decoration:underline">To Add an Image</h4>
          <div style="padding-left:20px;">
            <p>1. Click the "Browse" button to find and select the image you wish to upload from your computer.</p>
            <p>2. Click the "Add Image" button.</p>
          </div>
          <h4 style="text-decoration:underline">To Remove an Image</h4>
          <div style="padding-left:20px;">
            <p>1. In the list of images, check the box next to the image you wish to remove</p>
            <p>2. Click the "Delete" button to delete it.</p>
          </div>
          <p class="m_t_10">As much as you have the freedom to upload whatever pictures you like, we will review all images, decide which ones to post, and remove any that we do not think will help you to find work with our clients. We will be unable to justify or explain why we have selected or not selected any particular image. Part of the service that we provide is to help you to find work by showing the pictures that we think will keep our roster looking its best and will help clients to more easily evaluate you.</p>
          <h4 style="font-weight: bold; text-decoration:underline">Seven other important notices:</h4>
          <div style="padding-left:20px;">
              <ul class="img-libry-list">
              <li>We will only be posting recent pictures. Preferably, all images should have been taken within the past 3-6 months, but the oldest images should be no more than 18 months old. If you do not currently look like you do in the photograph, please do not post the photograph.</li>
              <li>We will not post pictures bearing links to websites or that contain your full name. It is perfectly fine if the image contains a photographer's copyright information, as long as that information does not take the form of a website link.</li>
              <li>No multi-image comp cards or photo montages. Single images only.</li>
              <li>Ideal MINIMUM image upload size: 150 dpi, 6 inches tall, portrait orientation.</li>
              <li>No excessively re-touched images.</li>
              <li>We look for a good variety of lifestyle/commercial, headshots, fashion/editorial, swimsuit/lingerie, etc.</li>
              <li>If you need new images, a list of photographers in your area can be found <a href="/resources.html">here</a>.</li>
              </ul>
          </div>
          <p class="m_t_10">Take the same time and care with your D2 Models portfolio as you would with creating and maintaining any hardcopy ZED / composite card or portfolio.</p>

</%def>
<%def .child_size>

     
                      <div class="panel panel-default">
                            <div class="panel-heading">

                                <a data-toggle="collapse" data-parent="#accordion3" href="#model-char-3" class="sub-cordian"><h5 class="panel-title" ><div class="active-status">+</div>Child Sizes (U.S.)</h5></a>
                            </div>
% if (defined $Member && $Member->is_admin){
                            <div id="model-char-3" class="panel-collapse collapse in">
% }else{       
							<div id="model-char-3" class="panel-collapse collapse">
% }							
                         <div class="panel-body">
                                     <div class="search-page">
                                        <div class="col-sm-4">
                                             <div class="form-group">
                                        <p>Baby Clothing Size</p>
            <& '/lib/select_with_value.mas',
               name => 'newborn_size',
               options => [ '-',  D2::field_options_with_value('newborn_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
            &>

                                            </div>
                                      </div>
                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p>Infant Clothing Size</p>
            <& '/size_select.mas',
               name => 'infant_size',
               default => '-', no_labels => 1,
               min => 12, max => 24, step => 6, no_larger => 1, no_less => 1,
               attrs => { class => 'form-control clothing' },
            &>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p>Toddler Clothing Size</p>
            <& '/lib/select_with_value.mas',
                name => 'toddler_size',
                options => [ '-',  D2::field_options_with_value('toddler_size') ],
                no_labels => 1,
                attrs => { class => 'form-control clothing' },
            &>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p>Kids Clothing Size</p>
             <& '/lib/select_with_value.mas',
               name => 'kids_size',
               options => [ '-',  D2::field_options_with_value('kids_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p>Boys Clothing Size</p>
             <& '/lib/select_with_value.mas',
               name => 'boys_size',
               options => [ D2::field_options_with_value('boys_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p>Girls Clothing Size</p>
             <& '/lib/select_with_value.mas',
               name => 'girls_size',
               options => [ D2::field_options_with_value('girls_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p>Girls Plus Clothing Size</p>
             <& '/lib/select_with_value.mas',
               name => 'girlsplus_size',
               options => [ D2::field_options_with_value('girlsplus_size') ],
               no_labels => 1,
               attrs => { class => 'form-control clothing' },
             &>
                                          </div>
                                      </div>
                                      <div class="col-sm-4">
                                         <div class="form-group">
                                        <p><b>SHOE</b> &ndash; Toddler</p>
            <& '/size_select.mas',
                    name => 'shoe_size_toddler',
                    default => '-', no_labels => 1,
                    min => 5, max => 9, step => 1, no_larger => 1, no_less => 1,
              attrs => { class => 'form-control shoes' },
            &>
                                        </div>
                                      </div>

                                      <div class="col-sm-4">
                                           <div class="form-group">
                                        <p><b>SHOE</b> &ndash; Kids</p>
             <& '/lib/select_with_value.mas',
               name => 'shoe_size_kids',
               options => [ D2::field_options_with_value('shoe_size_kids') ],
               no_labels => 1,
               attrs => { class => 'form-control shoes' },
             &>
                                          </div>
                                      </div>

                                        <div class="clearfix"></div>

                                      </div>
                                </div>

                            </div>

                        </div>   


</%def>
<%def .subpart_names>
% my $dob_style = "";
% my $age_range_style;
% $dob_style = "disabled" if defined $Member && !$Member->is_admin ;
% $age_range_style = "disabled" if defined $Member && !$Member->is_admin && $active_member->model->{age_lock};
                      
                         
                       
                        <div class="col-md-4">
                                                    <div class="form-group">
                            <p><% $reqd %> Model First Name</p>
        <input name="model_name_first" type="text" size="30" class="form-control" pattern="[a-zA-Z0-9 '_-]+" required>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p>Model Middle Name</p>
        <input name="model_name_middle" type="text" size="30" class="form-control" pattern="[a-zA-Z0-9 '_-]+">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <p><% $reqd %> Model Last Name</p>
        <input name="model_name_last" type="text" size="30" class="form-control" pattern="[a-zA-Z0-9 '_-]+" required>
                          </div>
                        </div>
%  my $style1 = 'style="opacity:0; position:absolute; left:9999px;"' if($active_member->model->acceptance_status eq 'pre_upgrade' && !$Member->is_admin);
                        <div class="col-md-6" <% $style1 %>>
                          <div class="form-group">
                            <p><% $reqd %>Date of Birth <span data-original-title="Please include your actual date of birth. Submitting inaccurate information will not help you to find more work opportunities" data-toggle="tooltip" data-placement="top" title=""><a href="#"><i class="fa fa-question-circle"></i></a></span> <!--<a href="#" style="color:#212121" data-toggle="modal" data-target="#birth-day"><i class="fa fa-lightbulb-o"></i></a>-->
                            </p>
<script>
$(function () {
$('[data-toggle="tooltip"]').tooltip()
})
</script>



          <div class="form-inline">
          <input class="form-control m_t_10" name="birthdate_month" type="text" onkeypress="validateNum(event);" size="2" value="mm" <% $dob_style %> min='1' max='12'> 
          <input class="form-control m_t_10" name="birthdate_day" type="text" onkeypress="validateNum(event);" size="2" value="dd" <% $dob_style %> min='1' max='31'> 
          <input class="form-control m_t_10" name="birthdate_year" type="text" id="dob_year" onkeypress="validateNum(event);" size="4" maxlength="4" value="yyyy" <% $dob_style %> min='1900' max=''>
% my $style = 'style="opacity:0; position:absolute; left:9999px;"' if (defined $Member && !$Member->is_admin)  || !defined $Member;
% if($dob_style eq "disabled"){
    <input name="birthdate_month" type="hidden" size="2"  > 
    <input name="birthdate_day" type="hidden" size="2"  > 
    <input name="birthdate_year" type="hidden" size="4" maxlength="4"  >
% }
                              <div class="checkbox chek-profile" <% $style %>>
% if(defined $active_member && $active_member->model->{is_lock}){
                                <input id="checkbox1" type="checkbox" name="is_lockd" checked="checked">
                                <label for="checkbox1"></label>
% }else{
                                <input id="checkbox1" type="checkbox" name="is_lockd">
                                <label for="checkbox1"></label>
% }
                              </div>
% our %agecategory = (01 => "Newborn", 02 => "Infants", 04=> "Toddlers", 10 => "Kids", 13 => "Tween (Pre-Teen)", 17 => "Teen", 24 => "Young Adult", 36 => "Adult", 54 => "Mature Adult", 70 => "Classic / Sophisticated", 85 => "Senior", 99 => "Elderly");
% if (defined $Member && defined $active_member){
% if($Member->is_admin){
                              
                              <p style="font-size:12px;"><b>Real Age:</b>
      <input class="form-control" type="text"  name="age_real" size="3" disabled>
           <span class="years">years</span>
      <input class="form-controll" type="text" name="age_real_months" size="2">
      <span class"months">months</span></p>
      <p id= "Age_category_value" style="font-size:12px;"><b>Age Category :</b><% $agecategory{$active_member->model->{age_category}} %> </p>
          <input type="hidden" name="age_category">
          <input type="hidden" name="age_real">
                             
                              <p class="m_t_10">Age Range: </p>
                              <& .Age_Range_Input &>
                              <input  name="age_appearance_min" type="text" size="2" class="form-control" id ="agemin"<% $age_range_style %>>
                              <span class="to">to</span>
                              <input  name="age_appearance_max" type="text" size="2" class="form-control" id="agemax"<% $age_range_style %>>

                             <div class="checkbox p_t_10" <% $style %>>
% if(defined $active_member && $active_member->model->{age_lock}){
        <input id="checkbox3" name="age_lockd" class="image_act lock" type="checkbox" checked>
                                <label for="checkbox3"></label>
% }else{
        <input id="checkbox3" name="age_lockd" class="image_act lock" type="checkbox">
                                <label for="checkbox3"></label>
%}

                              </div>
% }else{
<input type="hidden" name="age_category">
<input type="hidden" name="age_appearance_min">
<input type="hidden" name="age_appearance_max">
%}

% }
% if (defined $Member && $Member->is_admin){
    <input type="hidden" name="default_lock" value="0">
% }else{
    <input type="hidden" name="default_lock" value="1">
% }

                           </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                  <div class="form-group">
                   <p><% $reqd %>Under 18?</p>
                    <& '/lib/select.mas',
                           name => 'is_under_18',
                           options => [
                            '' => '-',
                            1  => 'Yes',
                            0  => 'No',
                           ],
                          
                    &>
                  </div>
                </div>
% if (defined $Member && !$Member->is_admin){
    <div class="clearfix"></div>
% }                 
                <div class="col-sm-6">
                 <div class="form-group hide_item guardian_info">
                    <p><% $reqd %>Guardian's Full Name (required if model is under 18)</p>
                    <input type="text" class="form-control" name="guardian_info">
                 </div>
                </div>
               
% if (defined $Member && $Member->is_admin){
<div class="clearfix"></div>
                <div class="row" style="padding: 0 15px;">
                <div class="col-sm-6">
                 <div class="form-group hide_item guardian_info" >
                    <p>Model Profile</p>
                    <input type="text" class="form-control" value="<% $listing_tag_ref %>"  name="isting_tag" disabled="disabled">
                 </div>
                </div>

                <div class="col-sm-6">
                 <div class="form-group hide_item guardian_info" >
                    <p>Name for Payment (Admin Only)</p>
                    <input type="text" class="form-control" name="">
                 </div>
                </div>
                 </div>        
% }else{



                <div class="col-sm-6">
                 <div class="form-group hide_item guardian_info" >
                    <p>Model Profile</p>
                    <input type="text" class="form-control" value="<% $listing_tag_ref %>"  name="isting_tag" disabled="disabled">
                 </div>
                </div>

                <div class="col-sm-6">
                 <div class="form-group hide_item guardian_info" >
                    <p>Name for Payment (Admin Only)</p>
                    <input type="text" class="form-control" name="">
                 </div>
                </div>
% }    

</%def>


<%def .subpart_sizes>
<center><b>Providing sizes is optional for talent under 18 years of age.</b></center>
<p>

 <table class="commonForm sizes">
  <tr>
   <th colspan="2"> Male Sizes (Adult U.S.)
  <tr>
   <td class="label"><% $reqd %> Jacket Size:
   <td><& '/size_select.mas',
            name => 'jacket_size',
      default => '-Jacket Size-',
            min => 38, max => 53, step => 2, no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Jacket Length:
   <td><& '/size_select.mas',
            name => 'jacket_length',
      default => '-Jacket Length-',
            options => [ 'Short', 'Regular', 'Long' ], no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Sleeve:
   <td><& '/size_select.mas',
            name => 'sleeve_size',
      default => '-Sleeve-',
            min => 32, max => 39, slashed => 1, no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Waist:
   <td><& '/size_select.mas',
            name => 'waist_size_male',
      default => '-Waist-',
            min => 19, max => 48, no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Inseam:
   <td><& '/size_select.mas',
            name => 'inseam_size_male',
      default => '-Inseam-',
            min => 13, max => 41, no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> T-Shirt (optional):
   <td>
  <& '/lib/select_with_value.mas',
     name => 'tshirt_size_male',
     options => [ D2::field_options_with_value('tshirt_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Shoe:
   <td><& '/size_select.mas',
            name => 'shoe_size_male',
      default => '-Shoe-',
            min => 9, max => 18, step => 0.5, no_less => 1, no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Neck:
   <td><& '/size_select.mas',
            name => 'neck_size',
      default => '-Neck-',
            min => 14, max => 21.5, step => 0.5, no_labels => 1,
       &>
  <tr>
   <th colspan="2">Female Sizes (Adult U.S.) <& .femsizes_hint &>
  <tr>
   <td class="label"><% $reqd %> Bust:
   <td><& '/size_select.mas',
            name => 'bust_size',
      default => '-Bust-', 
            min => 18, max => 52, step => 0.5, no_labels => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Cup Size:
   <td>
  <& '/lib/select_with_value.mas',
     name => 'cup_size',
     options => [ D2::field_options_with_value('cup_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Waist:
   <td><& '/size_select.mas',
            name => 'waist_size_female',
      default => '-Waist-', no_labels => 1,
            min => 18, max => 52, step => 0.5,
       &>
  <tr>
   <td class="label"><% $reqd %> Hip:
   <td><& '/size_select.mas',
            name => 'hip_size',
      default => '-Hip-', no_labels => 1,
            min => 18, max => 52,
       &>
  <tr>
   <td class="label"><% $reqd %> Dress Size (your standard size):
   <td><& '/size_select.mas',
            name => 'dress_size',
      default => '-Dress Size-', no_labels => 1,
            min => 0, max => 30, no_less => 1, no_larger => 1,
            slash_stepped => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Dress Size (your maximum size):
   <td><& '/size_select.mas',
            name => 'dress_size_optional',
      default => '-Dress Size Max-', no_labels => 1,
            min => 0, max => 30, no_less => 1, no_larger => 1,
            slash_stepped => 1,
       &>

<!-- 
  <tr>
   <td class="label">Pants Size:
   <td><& '/size_select.mas',
            name => 'pants_size',
      default => '-Pants Size-', no_labels => 1,
            min => 0, max => 30, no_less => 1, no_larger => 1,
       &>

  <tr>
   <td class="label">Pants Size (your maximum size):
   <td><& '/size_select.mas',
            name => 'pants_size_optional',
      default => '-Pants Size Max-', no_labels => 1,
            min => 0, max => 30, no_less => 1, no_larger => 1,
       &>

  <tr>
   <td class="label">Pants Length:
   <td><& '/size_select.mas',
            name => 'pants_length',
      default => '-Pants Length-', no_labels => 1,
            options => [ 'Short', 'Regular', 'Long' ],
       &>
-->
  <tr>
   <td class="label"><% $reqd %> Shoe:
   <td><& '/size_select.mas',
            name => 'shoe_size_female',
      default => '-Shoe-', no_labels => 1,
            min => 2, max => 14, step => 0.5, no_larger => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> U.S. Jeans (optional):
   <td>
  <& '/lib/select_with_value.mas',
     name => 'us_jeans_size',
     options => [ D2::field_options_with_value('us_jeans_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Designer Jeans (optional):
   <td>
  <& '/lib/select_with_value.mas',
     name => 'designer_jeans_size',
     options => [ D2::field_options_with_value('designer_jeans_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Inseam (optional):
   <td><& '/size_select.mas',
            name => 'inseam_size_female',
      default => '-Inseam-',
            min => 13, max => 41, no_labels => 1,
       &>

  <tr>
   <td class="label"><% $reqd %> T-Shirt (optional):
   <td>
  <& '/lib/select_with_value.mas',
     name => 'tshirt_size_female',
     options => [ D2::field_options_with_value('tshirt_size') ],
     no_labels => 1,
    &>

  <tr>
   <th colspan="2">Kids Sizes (U.S.)
  <tr>
   <td class="label"><% $reqd %> Baby Clothing Size:
  <td>
  <& '/lib/select_with_value.mas',
     name => 'newborn_size',
     options => [ '-Baby Clothing Size-',  D2::field_options_with_value('newborn_size') ],
     no_labels => 1,
    &>


  <tr>
   <td class="label"><% $reqd %> Infant Clothing Size:
  <td><& '/size_select.mas',
            name => 'infant_size',
            default => '-Infant Clothing Size-', no_labels => 1,
      min => 12, max => 24, step => 6, no_larger => 1, no_less => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Toddler Clothing Size:
  <td>
   <& '/lib/select_with_value.mas',
     name => 'toddler_size',
     options => [ '-Toddler Clothing -Size-',  D2::field_options_with_value('toddler_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Kids Clothing Size:
  <td>
   <& '/lib/select_with_value.mas',
     name => 'kids_size',
     options => [ '-Kids Clothing Size-',  D2::field_options_with_value('kids_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Boys Clothing Size:
  <td>
   <& '/lib/select_with_value.mas',
     name => 'boys_size',
     options => [ '-Boys Clothing Size-',  D2::field_options_with_value('boys_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Girls Clothing Size:
  <td>
   <& '/lib/select_with_value.mas',
     name => 'girls_size',
     options => [ D2::field_options_with_value('girls_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Girls Plus Clothing Size:
  <td>
   <& '/lib/select_with_value.mas',
     name => 'girlsplus_size',
     options => [ D2::field_options_with_value('girlsplus_size') ],
     no_labels => 1,
    &>
  <tr>
   <td class="label"><% $reqd %> Toddler Shoe Size:
  <td><& '/size_select.mas',
            name => 'shoe_size_toddler',
            default => '-Toddler Shoe Size-', no_labels => 1,
            min => 5, max => 9, step => 1, no_larger => 1, no_less => 1,
       &>
  <tr>
   <td class="label"><% $reqd %> Kids Shoe Size:
  <td>
   <& '/lib/select_with_value.mas',
     name => 'shoe_size_kids',
     options => [ D2::field_options_with_value('shoe_size_kids') ],
     no_labels => 1,
    &>

 </table>
</%def>


<%def .special_quality>
% my ($name, $label1, $label2) = @_;
% my $class_name = D2::cssify_ident($name);
 <td><input id="<% $class_name %>" name="has_<% $name %>" type="checkbox"><label for="<% $class_name %>"><% $label1 %> (<% $label2 %>?)</label>
 <td><input name="<% $name %>" type="text" size="40">
</%def>

<%def .select_type_checkbox_model>
  <%args>
   $group
   $name
   $class
   $table
   $no_head => undef
   $is_active 
   @values => ()
  </%args>
  <%init>
   my $param_name = $name;
   $name =~ s/\_[0-9]*$//g;
  </%init>
  <& '/lib/select_with_checkbox.mas',
      title => $group,
      is_active => $is_active,
      name => $param_name,
      class => $class,
      no_head => $no_head,
      options => [ D2::field_options_with_value("$table") ],
      values => [@values]
  &>
 </%def>
%#   28/11/2018
<%def .select_type_checkbox_hair_style>
  <%args>
   $group 
   $name
   $class
   @table_list
   $no_head => undef
   $is_active => 0
   @values => ()
  </%args>
  <%init>
   my $param_name = $name;
   $name =~ s/\_[0-9]*$//g;
  </%init>

  <& '/lib/select_with_checkbox.mas',
      title => $group,
      is_active => $is_active,
      name => $param_name,
      class => $class,
      no_head => $no_head,
      options => [ D2::field_options_with_value(@table_list) ],
      values => [@values],
  &>
 </%def>


<%def .select_type_checkbox_model_union>
  <%args>
   $group 
   $name
   $class
   @table_list
   $no_head => undef
   $is_active => 0
   @values => ()
  </%args>
  <%init>
   my $param_name = $name;
   $name =~ s/\_[0-9]*$//g;
  </%init>

  <& '/lib/select_with_checkbox.mas',
      title => $group,
      is_active => $is_active,
      name => $param_name,
      class => $class,
      no_head => $no_head,
      options => [ ['- Other Unions -', 0], D2::field_options_with_value(@table_list) ],
      values => [@values],
  &>
 </%def>


<%def .return_to_home_first>
%if(defined $Member && $Member->is_admin){
    <span class="MOdel_NAme"></span>
    <script>
      $(document).ready(function(){
        $('.MOdel_NAme').html('('+ $('input[name="name_on_site"]').val() +')');
      });
    </script>
%}
</%def>

 <%def .return_to_home>
%if(defined $Member && $Member->is_admin){
    <span class="MOdel_NAme"></span> 
    <input type="hidden" name="name_on_site" class="MOdel_NAme_INput"/><br></p>
    <script>
      $(document).ready(function(){
        $('.MOdel_NAme').html('('+ $('.MOdel_NAme_INput').val() +')');
      });
    </script>
%}else{
 </p>
% }
 </%def>

<%def .Age_Range_Input>
      <script>
      	//Changed on 21/03/2019 --SR
        //$('body').click(function(){
        $('body').click(function(){
          //console.log("onclick");
          x =  $('input[name="age_real"]').val();
          y = $('input[name="age_real_months"]').val();

          if(x == 0){
          	alert("Age Couldnot be zero");
          }
          //Age_apperenace_min and Age_appearence_max calculation
          if( x >= 0  && x <= 3 ){
             document.getElementById("agemin").value = 0;
             document.getElementById("agemax").value = 0;
          }else if( x == 4  && y < 5 ){
             document.getElementById("agemin").value = 0;
             document.getElementById("agemax").value = 0;
          }else if( x == 4  && y >= 5 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 1;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 5  && x <= 14 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 1;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x == 15  && y < 5 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 1;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x == 15  && y >= 5 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 2;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 16  && x <= 19 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 2;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 20  && x <= 24 ){
             var x_min = parseInt(x) - 2;
             var x_max = parseInt(x) + 3;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 25  && x <= 29 ){
             var x_min = parseInt(x) - 3;
             var x_max = parseInt(x) + 3;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          } else if( x >= 30  && x <= 34 ){
             var x_min = parseInt(x) - 3;
             var x_max = parseInt(x) + 4;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 35  && x <= 40 ){
             var x_min = parseInt(x) - 4;
             var x_max = parseInt(x) + 4;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 41  && x <= 52 ){
             var x_min = parseInt(x) - 4;
             var x_max = parseInt(x) + 5;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 53){
             var x_min = parseInt(x) - 5;
             var x_max = parseInt(x) + 5;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          } 
          

        });
        $(window).load(function(){
        //console.log("onload");
          x =  $('input[name="age_real"]').val();
          y = $('input[name="age_real_months"]').val();
          
          //Age_apperenace_min and Age_appearence_max calculation
          if( x >= 0  && x <= 3 ){
             document.getElementById("agemin").value = 0;
             document.getElementById("agemax").value = 0;
          }else if( x == 4  && y < 5 ){
             document.getElementById("agemin").value = 0;
             document.getElementById("agemax").value = 0;
          }else if( x == 4  && y >= 5 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 1;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 5  && x <= 14 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 1;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x == 15  && y < 5 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 1;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x == 15  && y >= 5 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 2;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 16  && x <= 19 ){
             var x_min = parseInt(x) - 1;
             var x_max = parseInt(x) + 2;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 20  && x <= 24 ){
             var x_min = parseInt(x) - 2;
             var x_max = parseInt(x) + 3;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 25  && x <= 29 ){
             var x_min = parseInt(x) - 3;
             var x_max = parseInt(x) + 3;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          } else if( x >= 30  && x <= 34 ){
             var x_min = parseInt(x) - 3;
             var x_max = parseInt(x) + 4;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 35  && x <= 40 ){
             var x_min = parseInt(x) - 4;
             var x_max = parseInt(x) + 4;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 41  && x <= 52 ){
             var x_min = parseInt(x) - 4;
             var x_max = parseInt(x) + 5;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          }else if( x >= 53){
             var x_min = parseInt(x) - 5;
             var x_max = parseInt(x) + 5;
             document.getElementById("agemin").value = x_min;
             document.getElementById("agemax").value = x_max;
          } 
        
        });
      </script>
</%def>

<%def .check_box_val>

%	my $q = CGI->new();
%	my $ch_val_Tr;
%	my $ch_val_Bi;

%	if ($q->param('Transgender_nam')) {
%		 $ch_val_Tr = "true";	    
%	}else{
%	     $ch_val_Tr = "false";
%	}

%	if ($q->param('Non_binary_nam')) {
%		 $ch_val_Bi = "true";	    
%	}else{
%	     $ch_val_Bi = "false";
%	}

<script>
	$('.Transgender_box').change(function() {
        if($(this).is(":checked")) {
            alert(<% $ch_val_Tr %>);

        }        
    });

</script>
</%def>

<%def .subpart_age_only>
% my $dob_style = "";
% my $age_range_style;
% $dob_style = "disabled" if defined $Member && !$Member->is_admin ;
% $age_range_style = "disabled" if defined $Member && !$Member->is_admin && $active_member->model->{age_lock};
% my $style1 = 'style="opacity:0; position:absolute; left:9999px;"' if($active_member->model->acceptance_status eq 'pre_upgrade' && !$Member->is_admin);
    <div class="col-md-6" <% $style1 %>>
        <div class="form-group">
            <p><% $reqd %>Date of Birth <span data-original-title="Please include your actual date of birth. Submitting inaccurate information will not help you to find more work opportunities" data-toggle="tooltip" data-placement="top" title=""><a href="#"><i class="fa fa-question-circle"></i></a></span> <!--<a href="#" style="color:#212121" data-toggle="modal" data-target="#birth-day"><i class="fa fa-lightbulb-o"></i></a>-->
            </p>
            <div class="form-inline">
                <input class="form-control m_t_10" name="birthdate_month" type="text" onkeypress="validateNum(event);" size="2" value="mm" <% $dob_style %> min='1' max='12'> 
                <input class="form-control m_t_10" name="birthdate_day" type="text" onkeypress="validateNum(event);" size="2" value="dd" <% $dob_style %> min='1' max='31'> 
                <input class="form-control m_t_10" name="birthdate_year" type="text" id="dob_year" onkeypress="validateNum(event);" size="4" maxlength="4" value="yyyy" <% $dob_style %> min='1900' max=''>
%               my $style = 'style="opacity:0; position:absolute; left:9999px;"' if (defined $Member && !$Member->is_admin)  || !defined $Member;
%               if($dob_style eq "disabled"){
                    <input name="birthdate_month" type="hidden" size="2"  > 
                    <input name="birthdate_day" type="hidden" size="2"  > 
                    <input name="birthdate_year" type="hidden" size="4" maxlength="4"  >
%               }
                <div class="checkbox chek-profile" <% $style %>>
%               if(defined $active_member && $active_member->model->{is_lock}){
                    <input id="checkbox1" type="checkbox" name="is_lockd" checked="checked">
                    <label for="checkbox1"></label>
%               }else{
                    <input id="checkbox1" type="checkbox" name="is_lockd">
                    <label for="checkbox1"></label>
%               }
            </div>
% our %agecategory = (01 => "Newborn", 02 => "Infants", 04=> "Toddlers", 10 => "Kids", 13 => "Tween (Pre-Teen)", 17 => "Teen", 24 => "Young Adult", 36 => "Adult", 54 => "Mature Adult", 70 => "Classic / Sophisticated", 85 => "Senior", 99 => "Elderly");
% if (defined $Member && defined $active_member){
% if($Member->is_admin){
                              
                              <p style="font-size:12px;"><b>Real Age:</b>
      <input class="form-control" type="text"  name="age_real" size="3" disabled>
           <span class="years">years</span>
      <input class="form-controll" type="text" name="age_real_months" size="2">
      <span class"months">months</span></p>
      <p id= "Age_category_value" style="font-size:12px;"><b>Age Category :</b><% $agecategory{$active_member->model->{age_category}} %> </p>
          <input type="hidden" name="age_category">
          <input type="hidden" name="age_real">
                             
                              <p class="m_t_10">Age Range: </p>
                              <& .Age_Range_Input &>
                              <input  name="age_appearance_min" type="text" size="2" class="form-control" id ="agemin"<% $age_range_style %>>
                              <span class="to">to</span>
                              <input  name="age_appearance_max" type="text" size="2" class="form-control" id="agemax"<% $age_range_style %>>

                             <div class="checkbox p_t_10" <% $style %>>
% if(defined $active_member && $active_member->model->{age_lock}){
        <input id="checkbox3" name="age_lockd" class="image_act lock" type="checkbox" checked>
                                <label for="checkbox3"></label>
% }else{
        <input id="checkbox3" name="age_lockd" class="image_act lock" type="checkbox">
                                <label for="checkbox3"></label>
%}

                              </div>
% }else{
<input type="hidden" name="age_category">
<input type="hidden" name="age_appearance_min">
<input type="hidden" name="age_appearance_max">
%}

% }
% if (defined $Member && $Member->is_admin){
    <input type="hidden" name="default_lock" value="0">
% }else{
    <input type="hidden" name="default_lock" value="1">
% }

                           </div>
                          </div>
                        </div>
</%def>
<%doc>
=head1 NAME

 /profile/model.mas

=head1 DESCRIPTION

 Displays profile form specific for models.

=head1 AUTHOR

 Egor Shipovalov E<lt>code@eonline.ruE<gt>

=cut
</%doc>
